{"version":3,"sources":["../../src/locked-documents/config.ts"],"sourcesContent":["import type { CollectionConfig } from '../collections/config/types.js'\nimport type { Config } from '../config/types.js'\n\nimport { defaultAccess } from '../auth/defaultAccess.js'\n\nexport const lockedDocumentsCollectionSlug = 'payload-locked-documents'\n\nexport const getLockedDocumentsCollection = (config: Config): CollectionConfig => ({\n  slug: lockedDocumentsCollectionSlug,\n  access: {\n    create: defaultAccess,\n    delete: defaultAccess,\n    read: defaultAccess,\n    update: defaultAccess,\n  },\n  admin: {\n    hidden: true,\n  },\n  fields: [\n    {\n      name: 'document',\n      type: 'relationship',\n      index: true,\n      maxDepth: 0,\n      relationTo: [...config.collections!.map((collectionConfig) => collectionConfig.slug)],\n    },\n    {\n      name: 'globalSlug',\n      type: 'text',\n      index: true,\n    },\n    {\n      name: 'user',\n      type: 'relationship',\n      maxDepth: 1,\n      relationTo: config\n        .collections!.filter((collectionConfig) => collectionConfig.auth)\n        .map((collectionConfig) => collectionConfig.slug),\n      required: true,\n    },\n  ],\n  lockDocuments: false,\n})\n"],"names":["defaultAccess","lockedDocumentsCollectionSlug","getLockedDocumentsCollection","config","slug","access","create","delete","read","update","admin","hidden","fields","name","type","index","maxDepth","relationTo","collections","map","collectionConfig","filter","auth","required","lockDocuments"],"mappings":"AAGA,SAASA,aAAa,QAAQ,2BAA0B;AAExD,OAAO,MAAMC,gCAAgC,2BAA0B;AAEvE,OAAO,MAAMC,+BAA+B,CAACC,SAAsC,CAAA;QACjFC,MAAMH;QACNI,QAAQ;YACNC,QAAQN;YACRO,QAAQP;YACRQ,MAAMR;YACNS,QAAQT;QACV;QACAU,OAAO;YACLC,QAAQ;QACV;QACAC,QAAQ;YACN;gBACEC,MAAM;gBACNC,MAAM;gBACNC,OAAO;gBACPC,UAAU;gBACVC,YAAY;uBAAId,OAAOe,WAAW,CAAEC,GAAG,CAAC,CAACC,mBAAqBA,iBAAiBhB,IAAI;iBAAE;YACvF;YACA;gBACES,MAAM;gBACNC,MAAM;gBACNC,OAAO;YACT;YACA;gBACEF,MAAM;gBACNC,MAAM;gBACNE,UAAU;gBACVC,YAAYd,OACTe,WAAW,CAAEG,MAAM,CAAC,CAACD,mBAAqBA,iBAAiBE,IAAI,EAC/DH,GAAG,CAAC,CAACC,mBAAqBA,iBAAiBhB,IAAI;gBAClDmB,UAAU;YACZ;SACD;QACDC,eAAe;IACjB,CAAA,EAAE"}