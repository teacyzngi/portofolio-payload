{"version":3,"sources":["../../../src/auth/endpoints/init.ts"],"sourcesContent":["import type { PayloadHandler } from '../../config/types.js'\n\nimport { getRequestCollection } from '../../utilities/getRequestEntity.js'\nimport { headersWithCors } from '../../utilities/headersWithCors.js'\nimport { initOperation } from '../operations/init.js'\n\nexport const initHandler: PayloadHandler = async (req) => {\n  const initialized = await initOperation({\n    collection: getRequestCollection(req).config.slug,\n    req,\n  })\n\n  return Response.json(\n    { initialized },\n    {\n      headers: headersWithCors({\n        headers: new Headers(),\n        req,\n      }),\n    },\n  )\n}\n"],"names":["getRequestCollection","headersWithCors","initOperation","initHandler","req","initialized","collection","config","slug","Response","json","headers","Headers"],"mappings":"AAEA,SAASA,oBAAoB,QAAQ,sCAAqC;AAC1E,SAASC,eAAe,QAAQ,qCAAoC;AACpE,SAASC,aAAa,QAAQ,wBAAuB;AAErD,OAAO,MAAMC,cAA8B,OAAOC;IAChD,MAAMC,cAAc,MAAMH,cAAc;QACtCI,YAAYN,qBAAqBI,KAAKG,MAAM,CAACC,IAAI;QACjDJ;IACF;IAEA,OAAOK,SAASC,IAAI,CAClB;QAAEL;IAAY,GACd;QACEM,SAASV,gBAAgB;YACvBU,SAAS,IAAIC;YACbR;QACF;IACF;AAEJ,EAAC"}