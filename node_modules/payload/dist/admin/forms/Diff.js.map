{"version":3,"sources":["../../../src/admin/forms/Diff.ts"],"sourcesContent":["import type { I18nClient } from '@payloadcms/translations'\n\nimport type { ClientField, Field, FieldTypes, Tab } from '../../fields/config/types.js'\nimport type {\n  ClientFieldWithOptionalType,\n  PayloadRequest,\n  SanitizedFieldPermissions,\n  SanitizedFieldsPermissions,\n} from '../../index.js'\n\nexport type VersionTab = {\n  fields: VersionField[]\n  name?: string\n} & Pick<Tab, 'label'>\n\nexport type BaseVersionField = {\n  CustomComponent?: React.ReactNode\n  fields: VersionField[]\n  path: string\n  rows?: VersionField[][]\n  schemaPath: string\n  tabs?: VersionTab[]\n  type: FieldTypes\n}\n\nexport type VersionField = {\n  field?: BaseVersionField\n  fieldByLocale?: Record<string, BaseVersionField>\n}\n\n/**\n * Taken from react-diff-viewer-continued\n *\n * @deprecated remove in 4.0 - react-diff-viewer-continued is no longer a dependency\n */\nexport declare enum DiffMethod {\n  CHARS = 'diffChars',\n  CSS = 'diffCss',\n  JSON = 'diffJson',\n  LINES = 'diffLines',\n  SENTENCES = 'diffSentences',\n  TRIMMED_LINES = 'diffTrimmedLines',\n  WORDS = 'diffWords',\n  WORDS_WITH_SPACE = 'diffWordsWithSpace',\n}\n\nexport type FieldDiffClientProps<TClientField extends ClientFieldWithOptionalType = ClientField> = {\n  baseVersionField: BaseVersionField\n  /**\n   * Field value from the version being compared from\n   */\n  comparisonValue: unknown // TODO: change to valueFrom in 4.0\n  /**\n   * @deprecated remove in 4.0. react-diff-viewer-continued is no longer a dependency\n   */\n  diffMethod: any\n  field: TClientField\n  /**\n   * Permissions at this level of the field. If this field is unnamed, this will be `SanitizedFieldsPermissions` - if it is named, it will be `SanitizedFieldPermissions`\n   */\n  fieldPermissions: SanitizedFieldPermissions | SanitizedFieldsPermissions\n  /**\n   * If this field is localized, this will be the locale of the field\n   */\n  locale?: string\n  nestingLevel?: number\n  parentIsLocalized: boolean\n  /**\n   * Field value from the version being compared to\n   *\n   */\n  versionValue: unknown // TODO: change to valueTo in 4.0\n}\n\nexport type FieldDiffServerProps<\n  TField extends Field = Field,\n  TClientField extends ClientFieldWithOptionalType = ClientField,\n> = {\n  clientField: TClientField\n  field: TField\n  i18n: I18nClient\n  req: PayloadRequest\n  selectedLocales: string[]\n} & Omit<FieldDiffClientProps, 'field'>\n\nexport type FieldDiffClientComponent<\n  TFieldClient extends ClientFieldWithOptionalType = ClientFieldWithOptionalType,\n> = React.ComponentType<FieldDiffClientProps<TFieldClient>>\n\nexport type FieldDiffServerComponent<\n  TFieldServer extends Field = Field,\n  TFieldClient extends ClientFieldWithOptionalType = ClientFieldWithOptionalType,\n> = React.ComponentType<FieldDiffServerProps<TFieldServer, TFieldClient>>\n"],"names":[],"mappings":"AAyFA,WAGyE"}