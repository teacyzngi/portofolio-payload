{"version":3,"sources":["../../src/utilities/sanitizePermissions.spec.ts"],"sourcesContent":["import type { CollectionPermission, Permissions } from '../auth/types.js'\nimport { preferencesCollectionSlug } from '../preferences/config.js'\n\nimport { sanitizePermissions } from './sanitizePermissions.js'\n\n/* eslint-disable perfectionist/sort-objects */\ndescribe('recursivelySanitizePermissions', () => {\n  it('should sanitize a basic collection', () => {\n    const permissions: CollectionPermission = {\n      fields: {\n        text: {\n          create: {\n            permission: true,\n          },\n          read: {\n            permission: true,\n          },\n          update: {\n            permission: true,\n          },\n        },\n      },\n      create: {\n        permission: true,\n      },\n      read: {\n        permission: true,\n      },\n      update: {\n        permission: true,\n      },\n      delete: {\n        permission: false,\n      },\n      readVersions: {\n        permission: true,\n      },\n    }\n\n    sanitizePermissions({\n      canAccessAdmin: true,\n      collections: {\n        test: permissions,\n      },\n    })\n\n    expect(permissions).toStrictEqual({\n      fields: true,\n      create: true,\n      read: true,\n      update: true,\n      readVersions: true,\n    })\n  })\n\n  it('should sanitize a collection with where queries', () => {\n    const permissions: CollectionPermission = {\n      fields: {},\n      create: {\n        permission: true,\n        where: {\n          user: {\n            equals: 2,\n          },\n        },\n      },\n      read: {\n        permission: true,\n      },\n      update: {\n        permission: true,\n      },\n      delete: {\n        permission: false,\n      },\n      readVersions: {\n        permission: true,\n        where: {\n          user: {\n            equals: 1,\n          },\n        },\n      },\n    }\n\n    sanitizePermissions({\n      canAccessAdmin: true,\n      collections: {\n        test: permissions,\n      },\n    })\n    expect(permissions).toStrictEqual({\n      create: {\n        permission: true,\n        where: {\n          user: {\n            equals: 2,\n          },\n        },\n      },\n      fields: true,\n      read: true,\n      update: true,\n      readVersions: {\n        permission: true,\n        where: {\n          user: {\n            equals: 1,\n          },\n        },\n      },\n    })\n  })\n\n  it('should sanitize a collection with nested fields in blocks', () => {\n    const permissions: CollectionPermission = {\n      create: {\n        permission: true,\n      },\n      delete: {\n        permission: true,\n      },\n      read: {\n        permission: true,\n      },\n      update: {\n        permission: true,\n      },\n      fields: {\n        layout: {\n          create: {\n            permission: true,\n          },\n          blocks: {\n            blockWithTitle: {\n              fields: {\n                blockTitle: {\n                  create: {\n                    permission: true,\n                  },\n                  read: {\n                    permission: true,\n                  },\n                  update: {\n                    permission: true,\n                  },\n                },\n                id: {\n                  create: {\n                    permission: true,\n                  },\n                  read: {\n                    permission: true,\n                  },\n                  update: {\n                    permission: true,\n                  },\n                },\n                blockName: {\n                  create: {\n                    permission: true,\n                  },\n                  read: {\n                    permission: true,\n                  },\n                  update: {\n                    permission: true,\n                  },\n                },\n              },\n              create: {\n                permission: true,\n              },\n              read: {\n                permission: true,\n              },\n              update: {\n                permission: true,\n              },\n            },\n          },\n          read: {\n            permission: true,\n          },\n          update: {\n            permission: true,\n          },\n        },\n      },\n    }\n\n    sanitizePermissions({\n      canAccessAdmin: true,\n      collections: {\n        test: permissions,\n      },\n    })\n    expect(permissions).toStrictEqual({\n      create: true,\n      delete: true,\n      fields: true,\n      read: true,\n      update: true,\n    })\n  })\n\n  it('should sanitize a collection with nested fields in blocks without truncating', () => {\n    const permissions: CollectionPermission = {\n      create: {\n        permission: true,\n      },\n      delete: {\n        permission: true,\n      },\n      read: {\n        permission: true,\n      },\n      update: {\n        permission: true,\n      },\n      fields: {\n        layout: {\n          create: {\n            permission: true,\n          },\n          blocks: {\n            blockWithTitle: {\n              fields: {\n                blockTitle: {\n                  create: {\n                    permission: true,\n                  },\n                  read: {\n                    permission: true,\n                  },\n                  update: {\n                    permission: true,\n                  },\n                },\n                id: {\n                  create: {\n                    permission: true,\n                  },\n                  read: {\n                    permission: true,\n                  },\n                  update: {\n                    permission: true,\n                  },\n                },\n                blockName: {\n                  create: {\n                    permission: false,\n                  },\n                  read: {\n                    permission: true,\n                  },\n                  update: {\n                    permission: false,\n                  },\n                },\n              },\n              create: {\n                permission: true,\n              },\n              read: {\n                permission: true,\n              },\n              update: {\n                permission: true,\n              },\n            },\n          },\n          read: {\n            permission: true,\n          },\n          update: {\n            permission: true,\n          },\n        },\n      },\n    }\n\n    sanitizePermissions({\n      canAccessAdmin: true,\n      collections: {\n        test: permissions,\n      },\n    })\n    expect(permissions).toStrictEqual({\n      create: true,\n      delete: true,\n      read: true,\n      update: true,\n      fields: {\n        layout: {\n          create: true,\n          blocks: {\n            blockWithTitle: {\n              fields: {\n                blockTitle: true,\n                id: true,\n                blockName: {\n                  read: true,\n                },\n              },\n              create: true,\n              update: true,\n              read: true,\n            },\n          },\n          read: true,\n          update: true,\n        },\n      },\n    })\n  })\n\n  it('should sanitize a collection with nested fields in arrays', () => {\n    const permissions: Partial<CollectionPermission> = {\n      fields: {\n        arrayOfText: {\n          create: {\n            permission: true,\n          },\n          fields: {\n            text: {\n              create: {\n                permission: true,\n              },\n              read: {\n                permission: true,\n              },\n              update: {\n                permission: true,\n              },\n            },\n            hiddenText: {\n              create: {\n                permission: true,\n              },\n              read: {\n                permission: false,\n              },\n              update: {\n                permission: true,\n              },\n            },\n            id: {\n              create: {\n                permission: true,\n              },\n              read: {\n                permission: true,\n              },\n              update: {\n                permission: true,\n              },\n            },\n          },\n          read: {\n            permission: true,\n          },\n          update: {\n            permission: true,\n          },\n        },\n      },\n    }\n\n    sanitizePermissions({\n      canAccessAdmin: true,\n      collections: {\n        test: permissions as CollectionPermission,\n      },\n    })\n    expect(permissions).toStrictEqual({\n      fields: {\n        arrayOfText: {\n          create: true,\n          fields: {\n            text: true,\n            hiddenText: {\n              create: true,\n              update: true,\n            },\n            id: true,\n          },\n          read: true,\n          update: true,\n        },\n      },\n    })\n  })\n\n  it('should sanitize blocks with subfield named blocks', () => {\n    const permissions: CollectionPermission = {\n      fields: {\n        content: {\n          create: { permission: true },\n          blocks: {\n            test: {\n              fields: {\n                blocks: {\n                  create: { permission: true },\n                  fields: {\n                    arrayText: {\n                      create: { permission: true },\n                      read: { permission: true },\n                      update: { permission: true },\n                    },\n                    id: {\n                      create: { permission: true },\n                      read: { permission: true },\n                      update: { permission: true },\n                    },\n                  },\n                  read: { permission: true },\n                  update: { permission: true },\n                },\n                id: {\n                  create: { permission: true },\n                  read: { permission: true },\n                  update: { permission: true },\n                },\n                blockName: {\n                  create: { permission: true },\n                  read: { permission: true },\n                  update: { permission: true },\n                },\n              },\n              create: { permission: true },\n              read: { permission: true },\n              update: { permission: true },\n            },\n          },\n          read: { permission: true },\n          update: { permission: true },\n        },\n      },\n      create: {\n        permission: true,\n      },\n      read: {\n        permission: true,\n      },\n      update: {\n        permission: true,\n      },\n      delete: {\n        permission: false,\n      },\n      readVersions: {\n        permission: true,\n      },\n    }\n\n    sanitizePermissions({\n      canAccessAdmin: true,\n      collections: {\n        test: permissions,\n      },\n    })\n    expect(permissions).toStrictEqual({\n      fields: true,\n      create: true,\n      read: true,\n      update: true,\n      readVersions: true,\n    })\n  })\n\n  it('should sanitize a collection with nested fields in richText', () => {\n    const permissions: Partial<CollectionPermission> = {\n      fields: {\n        text: {\n          create: {\n            permission: true,\n          },\n          read: {\n            permission: true,\n          },\n          update: {\n            permission: true,\n          },\n        },\n        richText: {\n          create: {\n            permission: true,\n          },\n          read: {\n            permission: true,\n          },\n          update: {\n            permission: true,\n          },\n        },\n      },\n    }\n\n    sanitizePermissions({\n      canAccessAdmin: true,\n      collections: {\n        test: permissions as CollectionPermission,\n      },\n    })\n    expect(permissions).toStrictEqual({\n      fields: true,\n    })\n  })\n\n  it('ensure complex permissions are sanitized correctly', () => {\n    // This tests a bug where the sanitizePermissions function would previously not correctly sanitize\n    const permissions: Partial<CollectionPermission> = {\n      fields: {\n        GR: {\n          create: {\n            permission: false,\n          },\n          fields: {\n            rt: {\n              create: {\n                permission: false,\n              },\n              read: {\n                permission: true,\n              },\n              update: {\n                permission: true,\n              },\n            },\n            aaa: {\n              create: {\n                permission: false,\n              },\n              read: {\n                permission: true,\n              },\n              update: {\n                permission: true,\n              },\n            },\n          },\n          read: {\n            permission: true,\n          },\n          update: {\n            permission: true,\n          },\n        },\n        tab1: {\n          fields: {\n            rt2: {\n              create: {\n                permission: false,\n              },\n              read: {\n                permission: true,\n              },\n              update: {\n                permission: true,\n              },\n            },\n            blocks2: {\n              create: {\n                permission: false,\n              },\n              blocks: {\n                myBlock: {\n                  fields: {\n                    art: {\n                      create: {\n                        permission: false,\n                      },\n                      read: {\n                        permission: true,\n                      },\n                      update: {\n                        permission: true,\n                      },\n                    },\n                    id: {\n                      create: {\n                        permission: false,\n                      },\n                      read: {\n                        permission: true,\n                      },\n                      update: {\n                        permission: true,\n                      },\n                    },\n                    blockName: {\n                      create: {\n                        permission: false,\n                      },\n                      read: {\n                        permission: true,\n                      },\n                      update: {\n                        permission: true,\n                      },\n                    },\n                  },\n                  create: {\n                    permission: false,\n                  },\n                  read: {\n                    permission: true,\n                  },\n                  update: {\n                    permission: true,\n                  },\n                },\n              },\n              read: {\n                permission: true,\n              },\n              update: {\n                permission: true,\n              },\n            },\n          },\n          create: {\n            permission: false,\n          },\n          read: {\n            permission: true,\n          },\n          update: {\n            permission: true,\n          },\n        },\n        rt3: {\n          create: {\n            permission: false,\n          },\n          read: {\n            permission: true,\n          },\n          update: {\n            permission: true,\n          },\n        },\n        blocks3: {\n          create: {\n            permission: false,\n          },\n          blocks: {\n            myBlock: {\n              fields: {\n                art: {\n                  create: {\n                    permission: false,\n                  },\n                  read: {\n                    permission: true,\n                  },\n                  update: {\n                    permission: true,\n                  },\n                },\n                id: {\n                  create: {\n                    permission: false,\n                  },\n                  read: {\n                    permission: true,\n                  },\n                  update: {\n                    permission: true,\n                  },\n                },\n                blockName: {\n                  create: {\n                    permission: false,\n                  },\n                  read: {\n                    permission: true,\n                  },\n                  update: {\n                    permission: true,\n                  },\n                },\n              },\n              create: {\n                permission: false,\n              },\n              read: {\n                permission: true,\n              },\n              update: {\n                permission: true,\n              },\n            },\n          },\n          read: {\n            permission: true,\n          },\n          update: {\n            permission: true,\n          },\n        },\n        array: {\n          create: {\n            permission: false,\n          },\n          fields: {\n            art: {\n              create: {\n                permission: false,\n              },\n              read: {\n                permission: true,\n              },\n              update: {\n                permission: true,\n              },\n            },\n            id: {\n              create: {\n                permission: false,\n              },\n              read: {\n                permission: true,\n              },\n              update: {\n                permission: true,\n              },\n            },\n          },\n          read: {\n            permission: true,\n          },\n          update: {\n            permission: true,\n          },\n        },\n        arrayWithAccessFalse: {\n          create: {\n            permission: false,\n          },\n          fields: {\n            art: {\n              create: {\n                permission: false,\n              },\n              read: {\n                permission: true,\n              },\n              update: {\n                permission: false,\n              },\n            },\n            id: {\n              create: {\n                permission: false,\n              },\n              read: {\n                permission: true,\n              },\n              update: {\n                permission: false,\n              },\n            },\n          },\n          read: {\n            permission: true,\n          },\n          update: {\n            permission: false,\n          },\n        },\n        blocks: {\n          create: {\n            permission: false,\n          },\n          blocks: {\n            myBlock: {\n              fields: {\n                art: {\n                  create: {\n                    permission: false,\n                  },\n                  read: {\n                    permission: true,\n                  },\n                  update: {\n                    permission: true,\n                  },\n                },\n                id: {\n                  create: {\n                    permission: false,\n                  },\n                  read: {\n                    permission: true,\n                  },\n                  update: {\n                    permission: true,\n                  },\n                },\n                blockName: {\n                  create: {\n                    permission: false,\n                  },\n                  read: {\n                    permission: true,\n                  },\n                  update: {\n                    permission: true,\n                  },\n                },\n              },\n              create: {\n                permission: false,\n              },\n              read: {\n                permission: true,\n              },\n              update: {\n                permission: true,\n              },\n            },\n          },\n          read: {\n            permission: true,\n          },\n          update: {\n            permission: true,\n          },\n        },\n        updatedAt: {\n          create: {\n            permission: false,\n          },\n          read: {\n            permission: true,\n          },\n          update: {\n            permission: true,\n          },\n        },\n        createdAt: {\n          create: {\n            permission: false,\n          },\n          read: {\n            permission: true,\n          },\n          update: {\n            permission: true,\n          },\n        },\n      },\n      create: {\n        permission: false,\n      },\n      read: {\n        permission: true,\n      },\n      update: {\n        permission: true,\n      },\n      delete: {\n        permission: true,\n      },\n    }\n\n    sanitizePermissions({\n      canAccessAdmin: true,\n      collections: {\n        test: permissions as CollectionPermission,\n      },\n    })\n    expect(permissions).toStrictEqual({\n      fields: {\n        GR: {\n          fields: {\n            rt: {\n              read: true,\n              update: true,\n            },\n            aaa: {\n              read: true,\n              update: true,\n            },\n          },\n          read: true,\n          update: true,\n        },\n        tab1: {\n          fields: {\n            rt2: {\n              read: true,\n              update: true,\n            },\n            blocks2: {\n              blocks: {\n                myBlock: {\n                  fields: {\n                    art: {\n                      read: true,\n                      update: true,\n                    },\n                    id: {\n                      read: true,\n                      update: true,\n                    },\n                    blockName: {\n                      read: true,\n                      update: true,\n                    },\n                  },\n                  read: true,\n                  update: true,\n                },\n              },\n              read: true,\n              update: true,\n            },\n          },\n          read: true,\n          update: true,\n        },\n        rt3: {\n          read: true,\n          update: true,\n        },\n        blocks3: {\n          blocks: {\n            myBlock: {\n              fields: {\n                art: {\n                  read: true,\n                  update: true,\n                },\n                id: {\n                  read: true,\n                  update: true,\n                },\n                blockName: {\n                  read: true,\n                  update: true,\n                },\n              },\n              read: true,\n              update: true,\n            },\n          },\n          read: true,\n          update: true,\n        },\n        array: {\n          fields: {\n            art: {\n              read: true,\n              update: true,\n            },\n            id: {\n              read: true,\n              update: true,\n            },\n          },\n          read: true,\n          update: true,\n        },\n        arrayWithAccessFalse: {\n          fields: {\n            art: {\n              read: true,\n            },\n            id: {\n              read: true,\n            },\n          },\n          read: true,\n        },\n        blocks: {\n          blocks: {\n            myBlock: {\n              fields: {\n                art: {\n                  read: true,\n                  update: true,\n                },\n                id: {\n                  read: true,\n                  update: true,\n                },\n                blockName: {\n                  read: true,\n                  update: true,\n                },\n              },\n              read: true,\n              update: true,\n            },\n          },\n          read: true,\n          update: true,\n        },\n        updatedAt: {\n          read: true,\n          update: true,\n        },\n        createdAt: {\n          read: true,\n          update: true,\n        },\n      },\n      read: true,\n      update: true,\n      delete: true,\n    })\n  })\n\n  it('ensure complex permissions are sanitized correctly 2', () => {\n    // This tests a bug where the sanitizePermissions function would previously not correctly sanitize\n    const permissions: Partial<CollectionPermission> = {\n      fields: {\n        GR: {\n          create: {\n            permission: true,\n          },\n          fields: {\n            rt: {\n              create: {\n                permission: true,\n              },\n              read: {\n                permission: true,\n              },\n              update: {\n                permission: true,\n              },\n            },\n            aaa: {\n              create: {\n                permission: true,\n              },\n              read: {\n                permission: true,\n              },\n              update: {\n                permission: true,\n              },\n            },\n          },\n          read: {\n            permission: true,\n          },\n          update: {\n            permission: true,\n          },\n        },\n        tab1: {\n          fields: {\n            rt2: {\n              create: {\n                permission: true,\n              },\n              read: {\n                permission: true,\n              },\n              update: {\n                permission: true,\n              },\n            },\n            blocks2: {\n              create: {\n                permission: true,\n              },\n              blocks: {\n                myBlock: {\n                  fields: {\n                    art: {\n                      create: {\n                        permission: true,\n                      },\n                      read: {\n                        permission: true,\n                      },\n                      update: {\n                        permission: true,\n                      },\n                    },\n                    id: {\n                      create: {\n                        permission: true,\n                      },\n                      read: {\n                        permission: true,\n                      },\n                      update: {\n                        permission: true,\n                      },\n                    },\n                    blockName: {\n                      create: {\n                        permission: true,\n                      },\n                      read: {\n                        permission: true,\n                      },\n                      update: {\n                        permission: true,\n                      },\n                    },\n                  },\n                  create: {\n                    permission: true,\n                  },\n                  read: {\n                    permission: true,\n                  },\n                  update: {\n                    permission: true,\n                  },\n                },\n              },\n              read: {\n                permission: true,\n              },\n              update: {\n                permission: true,\n              },\n            },\n          },\n          create: {\n            permission: true,\n          },\n          read: {\n            permission: true,\n          },\n          update: {\n            permission: true,\n          },\n        },\n        rt3: {\n          create: {\n            permission: true,\n          },\n          read: {\n            permission: true,\n          },\n          update: {\n            permission: true,\n          },\n        },\n        arrayWithAccessFalse: {\n          create: {\n            permission: false,\n          },\n          fields: {\n            art: {\n              create: {\n                permission: false,\n              },\n              read: {\n                permission: true,\n              },\n              update: {\n                permission: false,\n              },\n            },\n            id: {\n              create: {\n                permission: false,\n              },\n              read: {\n                permission: true,\n              },\n              update: {\n                permission: false,\n              },\n            },\n          },\n          read: {\n            permission: true,\n          },\n          update: {\n            permission: false,\n          },\n        },\n        blocks: {\n          create: {\n            permission: true,\n          },\n          blocks: {\n            myBlock: {\n              fields: {\n                art: {\n                  create: {\n                    permission: true,\n                  },\n                  read: {\n                    permission: true,\n                  },\n                  update: {\n                    permission: true,\n                  },\n                },\n                id: {\n                  create: {\n                    permission: true,\n                  },\n                  read: {\n                    permission: true,\n                  },\n                  update: {\n                    permission: true,\n                  },\n                },\n                blockName: {\n                  create: {\n                    permission: true,\n                  },\n                  read: {\n                    permission: true,\n                  },\n                  update: {\n                    permission: true,\n                  },\n                },\n              },\n              create: {\n                permission: true,\n              },\n              read: {\n                permission: true,\n              },\n              update: {\n                permission: true,\n              },\n            },\n          },\n          read: {\n            permission: true,\n          },\n          update: {\n            permission: true,\n          },\n        },\n        updatedAt: {\n          create: {\n            permission: true,\n          },\n          read: {\n            permission: true,\n          },\n          update: {\n            permission: true,\n          },\n        },\n        createdAt: {\n          create: {\n            permission: true,\n          },\n          read: {\n            permission: true,\n          },\n          update: {\n            permission: true,\n          },\n        },\n      },\n      create: {\n        permission: true,\n      },\n      read: {\n        permission: true,\n      },\n      update: {\n        permission: true,\n      },\n      delete: {\n        permission: true,\n      },\n    }\n\n    sanitizePermissions({\n      canAccessAdmin: true,\n      collections: {\n        test: permissions as CollectionPermission,\n      },\n    })\n    expect(permissions).toStrictEqual({\n      fields: {\n        GR: true,\n        tab1: true,\n        rt3: true,\n        arrayWithAccessFalse: {\n          fields: {\n            art: {\n              read: true,\n            },\n            id: {\n              read: true,\n            },\n          },\n          read: true,\n        },\n        blocks: true,\n        updatedAt: true,\n        createdAt: true,\n      },\n      create: true,\n      read: true,\n      update: true,\n      delete: true,\n    })\n  })\n\n  it('ensure complex permissions are sanitized correctly 3', () => {\n    // This tests a bug where the sanitizePermissions function would previously not correctly sanitize\n    const permissions: Partial<CollectionPermission> = {\n      fields: {\n        GR: {\n          create: {\n            permission: true,\n          },\n          fields: {\n            rt: {\n              create: {\n                permission: true,\n              },\n              read: {\n                permission: true,\n              },\n              update: {\n                permission: true,\n              },\n            },\n            aaa: {\n              create: {\n                permission: true,\n              },\n              read: {\n                permission: true,\n              },\n              update: {\n                permission: true,\n              },\n            },\n          },\n          read: {\n            permission: true,\n          },\n          update: {\n            permission: true,\n          },\n        },\n        tab1: {\n          fields: {\n            rt2: {\n              create: {\n                permission: true,\n              },\n              read: {\n                permission: true,\n              },\n              update: {\n                permission: true,\n              },\n            },\n            blocks2: {\n              create: {\n                permission: true,\n              },\n              blocks: {\n                myBlock: {\n                  fields: {\n                    art: {\n                      create: {\n                        permission: true,\n                      },\n                      read: {\n                        permission: true,\n                      },\n                      update: {\n                        permission: true,\n                      },\n                    },\n                    id: {\n                      create: {\n                        permission: true,\n                      },\n                      read: {\n                        permission: true,\n                      },\n                      update: {\n                        permission: true,\n                      },\n                    },\n                    blockName: {\n                      create: {\n                        permission: true,\n                      },\n                      read: {\n                        permission: true,\n                      },\n                      update: {\n                        permission: true,\n                      },\n                    },\n                  },\n                  create: {\n                    permission: true,\n                  },\n                  read: {\n                    permission: true,\n                  },\n                  update: {\n                    permission: true,\n                  },\n                },\n              },\n              read: {\n                permission: true,\n              },\n              update: {\n                permission: true,\n              },\n            },\n          },\n          create: {\n            permission: true,\n          },\n          read: {\n            permission: true,\n          },\n          update: {\n            permission: true,\n          },\n        },\n        rt3: {\n          create: {\n            permission: true,\n          },\n          read: {\n            permission: true,\n          },\n          update: {\n            permission: true,\n          },\n        },\n        blocks: {\n          create: {\n            permission: true,\n          },\n          blocks: {\n            myBlock: {\n              fields: {\n                art: {\n                  create: {\n                    permission: true,\n                  },\n                  read: {\n                    permission: true,\n                  },\n                  update: {\n                    permission: true,\n                  },\n                },\n                id: {\n                  create: {\n                    permission: true,\n                  },\n                  read: {\n                    permission: true,\n                  },\n                  update: {\n                    permission: true,\n                  },\n                },\n                blockName: {\n                  create: {\n                    permission: true,\n                  },\n                  read: {\n                    permission: true,\n                  },\n                  update: {\n                    permission: true,\n                  },\n                },\n              },\n              create: {\n                permission: true,\n              },\n              read: {\n                permission: true,\n              },\n              update: {\n                permission: true,\n              },\n            },\n          },\n          read: {\n            permission: true,\n          },\n          update: {\n            permission: true,\n          },\n        },\n        updatedAt: {\n          create: {\n            permission: true,\n          },\n          read: {\n            permission: true,\n          },\n          update: {\n            permission: true,\n          },\n        },\n        createdAt: {\n          create: {\n            permission: true,\n          },\n          read: {\n            permission: true,\n          },\n          update: {\n            permission: true,\n          },\n        },\n      },\n      create: {\n        permission: true,\n      },\n      read: {\n        permission: true,\n      },\n      update: {\n        permission: true,\n      },\n      delete: {\n        permission: true,\n      },\n    }\n\n    sanitizePermissions({\n      canAccessAdmin: true,\n      collections: {\n        test: permissions as CollectionPermission,\n      },\n    })\n    expect(permissions).toStrictEqual({\n      fields: true,\n      create: true,\n      read: true,\n      update: true,\n      delete: true,\n    })\n  })\n})\n\ndescribe('sanitizePermissions', () => {\n  it('should return nothing for unauthenticated user', () => {\n    const permissions: Permissions = {\n      canAccessAdmin: false,\n      collections: {\n        preferencesCollectionSlug: {\n          fields: {\n            user: {\n              create: {\n                permission: false,\n              },\n              read: {\n                permission: false,\n              },\n              update: {\n                permission: false,\n              },\n            },\n          },\n          create: {\n            permission: false,\n          },\n          read: {\n            permission: false,\n          },\n          update: {\n            permission: false,\n          },\n          delete: {\n            permission: false,\n          },\n        },\n      },\n      globals: {\n        menu: {\n          fields: {\n            globalText: {\n              create: {\n                permission: false,\n              },\n              read: {\n                permission: false,\n              },\n              update: {\n                permission: false,\n              },\n            },\n          },\n          read: {\n            permission: false,\n          },\n          update: {\n            permission: false,\n          },\n        },\n      },\n    }\n\n    const sanitizedPermissions = sanitizePermissions(permissions)\n\n    expect(sanitizedPermissions).toStrictEqual({})\n  })\n})\n"],"names":["sanitizePermissions","describe","it","permissions","fields","text","create","permission","read","update","delete","readVersions","canAccessAdmin","collections","test","expect","toStrictEqual","where","user","equals","layout","blocks","blockWithTitle","blockTitle","id","blockName","arrayOfText","hiddenText","content","arrayText","richText","GR","rt","aaa","tab1","rt2","blocks2","myBlock","art","rt3","blocks3","array","arrayWithAccessFalse","updatedAt","createdAt","preferencesCollectionSlug","globals","menu","globalText","sanitizedPermissions"],"mappings":"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"}