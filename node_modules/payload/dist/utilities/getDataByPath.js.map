{"version":3,"sources":["../../src/utilities/getDataByPath.ts"],"sourcesContent":["import type { FormState } from '../admin/types.js'\n\nimport { unflatten } from './unflatten.js'\n\nexport const getDataByPath = <T = unknown>(fields: FormState, path: string): T => {\n  const pathPrefixToRemove = path.substring(0, path.lastIndexOf('.') + 1)\n  const name = path.split('.').pop()\n\n  const data: Record<string, any> = {}\n  Object.keys(fields).forEach((key) => {\n    if (!fields[key]?.disableFormData && (key.indexOf(`${path}.`) === 0 || key === path)) {\n      data[key.replace(pathPrefixToRemove, '')] = fields[key]?.value\n\n      if (fields[key]?.rows && fields[key].rows.length === 0) {\n        data[key.replace(pathPrefixToRemove, '')] = []\n      }\n    }\n  })\n\n  const unflattenedData = unflatten(data)\n\n  return unflattenedData?.[name!]\n}\n"],"names":["unflatten","getDataByPath","fields","path","pathPrefixToRemove","substring","lastIndexOf","name","split","pop","data","Object","keys","forEach","key","disableFormData","indexOf","replace","value","rows","length","unflattenedData"],"mappings":"AAEA,SAASA,SAAS,QAAQ,iBAAgB;AAE1C,OAAO,MAAMC,gBAAgB,CAAcC,QAAmBC;IAC5D,MAAMC,qBAAqBD,KAAKE,SAAS,CAAC,GAAGF,KAAKG,WAAW,CAAC,OAAO;IACrE,MAAMC,OAAOJ,KAAKK,KAAK,CAAC,KAAKC,GAAG;IAEhC,MAAMC,OAA4B,CAAC;IACnCC,OAAOC,IAAI,CAACV,QAAQW,OAAO,CAAC,CAACC;QAC3B,IAAI,CAACZ,MAAM,CAACY,IAAI,EAAEC,mBAAoBD,CAAAA,IAAIE,OAAO,CAAC,GAAGb,KAAK,CAAC,CAAC,MAAM,KAAKW,QAAQX,IAAG,GAAI;YACpFO,IAAI,CAACI,IAAIG,OAAO,CAACb,oBAAoB,IAAI,GAAGF,MAAM,CAACY,IAAI,EAAEI;YAEzD,IAAIhB,MAAM,CAACY,IAAI,EAAEK,QAAQjB,MAAM,CAACY,IAAI,CAACK,IAAI,CAACC,MAAM,KAAK,GAAG;gBACtDV,IAAI,CAACI,IAAIG,OAAO,CAACb,oBAAoB,IAAI,GAAG,EAAE;YAChD;QACF;IACF;IAEA,MAAMiB,kBAAkBrB,UAAUU;IAElC,OAAOW,iBAAiB,CAACd,KAAM;AACjC,EAAC"}