{"version":3,"file":"index.js","names":["React","Button","useForm","useFormBackgroundProcessing","useFormInitializing","useFormProcessing","baseClass","FormSubmit","props","type","buttonId","id","children","disabled","disabledFromProps","onClick","programmaticSubmit","ref","processing","backgroundProcessing","initializing","submit","canSave","handleClick","undefined","_jsx","className"],"sources":["../../../src/forms/Submit/index.tsx"],"sourcesContent":["'use client'\nimport React from 'react'\n\nimport type { Props } from '../../elements/Button/types.js'\n\nimport { Button } from '../../elements/Button/index.js'\nimport {\n  useForm,\n  useFormBackgroundProcessing,\n  useFormInitializing,\n  useFormProcessing,\n} from '../Form/context.js'\nimport './index.scss'\n\nconst baseClass = 'form-submit'\n\nexport const FormSubmit: React.FC<Props> = (props) => {\n  const {\n    type = 'submit',\n    buttonId: id,\n    children,\n    disabled: disabledFromProps,\n    onClick,\n    programmaticSubmit,\n    ref,\n  } = props\n\n  const processing = useFormProcessing()\n  const backgroundProcessing = useFormBackgroundProcessing()\n  const initializing = useFormInitializing()\n  const { disabled, submit } = useForm()\n\n  const canSave = !(\n    disabledFromProps ||\n    initializing ||\n    processing ||\n    backgroundProcessing ||\n    disabled\n  )\n\n  const handleClick =\n    onClick ??\n    (programmaticSubmit\n      ? () => {\n          void submit()\n        }\n      : undefined)\n\n  return (\n    <div className={baseClass}>\n      <Button\n        ref={ref}\n        {...props}\n        disabled={canSave ? undefined : true}\n        id={id}\n        onClick={handleClick}\n        type={type}\n      >\n        {children}\n      </Button>\n    </div>\n  )\n}\n"],"mappings":"AAAA;;;AACA,OAAOA,KAAA,MAAW;AAIlB,SAASC,MAAM,QAAQ;AACvB,SACEC,OAAO,EACPC,2BAA2B,EAC3BC,mBAAmB,EACnBC,iBAAiB,QACZ;AACP,OAAO;AAEP,MAAMC,SAAA,GAAY;AAElB,OAAO,MAAMC,UAAA,GAA+BC,KAAA;EAC1C,MAAM;IACJC,IAAA,GAAO,QAAQ;IACfC,QAAA,EAAUC,EAAE;IACZC,QAAQ;IACRC,QAAA,EAAUC,iBAAiB;IAC3BC,OAAO;IACPC,kBAAkB;IAClBC;EAAG,CACJ,GAAGT,KAAA;EAEJ,MAAMU,UAAA,GAAab,iBAAA;EACnB,MAAMc,oBAAA,GAAuBhB,2BAAA;EAC7B,MAAMiB,YAAA,GAAehB,mBAAA;EACrB,MAAM;IAAES,QAAQ;IAAEQ;EAAM,CAAE,GAAGnB,OAAA;EAE7B,MAAMoB,OAAA,GAAU,EACdR,iBAAA,IACAM,YAAA,IACAF,UAAA,IACAC,oBAAA,IACAN,QAAO;EAGT,MAAMU,WAAA,GACJR,OAAA,KACCC,kBAAA,GACG;IACE,KAAKK,MAAA;EACP,IACAG,SAAQ;EAEd,oBACEC,IAAA,CAAC;IAAIC,SAAA,EAAWpB,SAAA;cACd,aAAAmB,IAAA,CAACxB,MAAA;MACCgB,GAAA,EAAKA,GAAA;MACJ,GAAGT,KAAK;MACTK,QAAA,EAAUS,OAAA,GAAUE,SAAA,GAAY;MAChCb,EAAA,EAAIA,EAAA;MACJI,OAAA,EAASQ,WAAA;MACTd,IAAA,EAAMA,IAAA;gBAELG;;;AAIT","ignoreList":[]}