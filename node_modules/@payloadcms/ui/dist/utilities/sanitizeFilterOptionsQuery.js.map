{"version":3,"file":"sanitizeFilterOptionsQuery.js","names":["sanitizeFilterOptionsQuery","query","key","value","toLowerCase","Array","isArray","val","in","length","exists"],"sources":["../../src/utilities/sanitizeFilterOptionsQuery.ts"],"sourcesContent":["import type { Where } from 'payload'\n\nexport const sanitizeFilterOptionsQuery = (query: Where): Where => {\n  for (const key in query) {\n    const value = query[key]\n    if ((key.toLowerCase() === 'and' || key.toLowerCase() === 'or') && Array.isArray(value)) {\n      for (const val of value) {\n        sanitizeFilterOptionsQuery(val)\n      }\n    } else if (\n      value &&\n      typeof value === 'object' &&\n      'in' in value &&\n      Array.isArray(value.in) &&\n      value.in.length === 0\n    ) {\n      {\n        query[key] = { exists: false }\n      }\n    }\n  }\n\n  return query\n}\n"],"mappings":"AAEA,OAAO,MAAMA,0BAAA,GAA8BC,KAAA;EACzC,KAAK,MAAMC,GAAA,IAAOD,KAAA,EAAO;IACvB,MAAME,KAAA,GAAQF,KAAK,CAACC,GAAA,CAAI;IACxB,IAAI,CAACA,GAAA,CAAIE,WAAW,OAAO,SAASF,GAAA,CAAIE,WAAW,OAAO,IAAG,KAAMC,KAAA,CAAMC,OAAO,CAACH,KAAA,GAAQ;MACvF,KAAK,MAAMI,GAAA,IAAOJ,KAAA,EAAO;QACvBH,0BAAA,CAA2BO,GAAA;MAC7B;IACF,OAAO,IACLJ,KAAA,IACA,OAAOA,KAAA,KAAU,YACjB,QAAQA,KAAA,IACRE,KAAA,CAAMC,OAAO,CAACH,KAAA,CAAMK,EAAE,KACtBL,KAAA,CAAMK,EAAE,CAACC,MAAM,KAAK,GACpB;MACA;QACER,KAAK,CAACC,GAAA,CAAI,GAAG;UAAEQ,MAAA,EAAQ;QAAM;MAC/B;IACF;EACF;EAEA,OAAOT,KAAA;AACT","ignoreList":[]}