{"version":3,"file":"index.js","names":["c","_c","React","Fragment","useCallback","DeleteMany","EditMany_v4","ListSelection_v4","ListSelectionButton","PublishMany_v4","RestoreMany","UnpublishMany_v4","SelectAllStatus","useSelection","useTranslation","ListSelection","t0","$","collectionConfig","disableBulkDelete","disableBulkEdit","label","modalPrefix","showSelectAllAcrossPages","t1","viewType","where","undefined","count","selectAll","selectedIDs","toggleAll","totalDocs","t","t2","onActionSuccess","isTrashView","trash","t3","_jsx","ListActions","AllAvailable","id","onClick","children","filter","Boolean","SelectionActions","_jsxs","collection","ids","onSuccess"],"sources":["../../../../src/views/List/ListSelection/index.tsx"],"sourcesContent":["'use client'\nimport type { ClientCollectionConfig, ViewTypes, Where } from 'payload'\n\nimport React, { Fragment, useCallback } from 'react'\n\nimport { DeleteMany } from '../../../elements/DeleteMany/index.js'\nimport { EditMany_v4 } from '../../../elements/EditMany/index.js'\nimport { ListSelection_v4, ListSelectionButton } from '../../../elements/ListSelection/index.js'\nimport { PublishMany_v4 } from '../../../elements/PublishMany/index.js'\nimport { RestoreMany } from '../../../elements/RestoreMany/index.js'\nimport { UnpublishMany_v4 } from '../../../elements/UnpublishMany/index.js'\nimport { SelectAllStatus, useSelection } from '../../../providers/Selection/index.js'\nimport { useTranslation } from '../../../providers/Translation/index.js'\n\nexport type ListSelectionProps = {\n  collectionConfig?: ClientCollectionConfig\n  disableBulkDelete?: boolean\n  disableBulkEdit?: boolean\n  label: string\n  modalPrefix?: string\n  showSelectAllAcrossPages?: boolean\n  viewType?: ViewTypes\n  where?: Where\n}\n\nexport const ListSelection: React.FC<ListSelectionProps> = ({\n  collectionConfig,\n  disableBulkDelete,\n  disableBulkEdit,\n  label,\n  modalPrefix,\n  showSelectAllAcrossPages = true,\n  viewType,\n  where,\n}) => {\n  const { count, selectAll, selectedIDs, toggleAll, totalDocs } = useSelection()\n  const { t } = useTranslation()\n\n  const onActionSuccess = useCallback(() => toggleAll(), [toggleAll])\n\n  if (count === 0) {\n    return null\n  }\n\n  const isTrashView = collectionConfig?.trash && viewType === 'trash'\n\n  return (\n    <ListSelection_v4\n      count={count}\n      ListActions={[\n        selectAll !== SelectAllStatus.AllAvailable &&\n        count < totalDocs &&\n        showSelectAllAcrossPages !== false ? (\n          <ListSelectionButton\n            aria-label={t('general:selectAll', { count: `(${totalDocs})`, label })}\n            id=\"select-all-across-pages\"\n            key=\"select-all\"\n            onClick={() => toggleAll(true)}\n          >\n            {t('general:selectAll', { count: `(${totalDocs})`, label: '' })}\n          </ListSelectionButton>\n        ) : null,\n      ].filter(Boolean)}\n      SelectionActions={[\n        !disableBulkEdit && !isTrashView && (\n          <Fragment key=\"bulk-actions\">\n            <EditMany_v4\n              collection={collectionConfig}\n              count={count}\n              ids={selectedIDs}\n              modalPrefix={modalPrefix}\n              onSuccess={onActionSuccess}\n              selectAll={selectAll === SelectAllStatus.AllAvailable}\n              where={where}\n            />\n            <PublishMany_v4\n              collection={collectionConfig}\n              count={count}\n              ids={selectedIDs}\n              modalPrefix={modalPrefix}\n              onSuccess={onActionSuccess}\n              selectAll={selectAll === SelectAllStatus.AllAvailable}\n              where={where}\n            />\n            <UnpublishMany_v4\n              collection={collectionConfig}\n              count={count}\n              ids={selectedIDs}\n              modalPrefix={modalPrefix}\n              onSuccess={onActionSuccess}\n              selectAll={selectAll === SelectAllStatus.AllAvailable}\n              where={where}\n            />\n          </Fragment>\n        ),\n        isTrashView && (\n          <RestoreMany collection={collectionConfig} key=\"bulk-restore\" viewType={viewType} />\n        ),\n        !disableBulkDelete && (\n          <DeleteMany\n            collection={collectionConfig}\n            key=\"bulk-delete\"\n            modalPrefix={modalPrefix}\n            viewType={viewType}\n          />\n        ),\n      ].filter(Boolean)}\n    />\n  )\n}\n"],"mappings":"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","ignoreList":[]}