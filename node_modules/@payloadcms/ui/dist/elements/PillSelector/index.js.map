{"version":3,"file":"index.js","names":["React","PlusIcon","XIcon","DraggableSortable","Pill","baseClass","PillSelector","draggable","onClick","pills","Wrapper","useMemo","children","_jsx","className","ids","map","pill","name","onDragEnd","moveFromIndex","moveToIndex","i","alignIcon","selected","filter","Boolean","join","icon","id","size","Label","key"],"sources":["../../../src/elements/PillSelector/index.tsx"],"sourcesContent":["'use client'\n\nimport React from 'react'\n\nimport { PlusIcon } from '../../icons/Plus/index.js'\nimport { XIcon } from '../../icons/X/index.js'\nimport { DraggableSortable } from '../DraggableSortable/index.js'\nimport { Pill } from '../Pill/index.js'\nimport './index.scss'\n\nconst baseClass = 'pill-selector'\n\nexport type SelectablePill = {\n  key?: string\n  Label?: React.ReactNode\n  name: string\n  selected: boolean\n}\n\nexport type Props = {\n  draggable?: {\n    onDragEnd: (args: { moveFromIndex: number; moveToIndex: number }) => void\n  }\n  onClick?: (args: { pill: SelectablePill }) => Promise<void> | void\n  pills: SelectablePill[]\n}\n\n/**\n * Displays a wrappable list of pills that can be selected or deselected.\n * If `draggable` is true, the pills can be reordered by dragging.\n */\nexport const PillSelector: React.FC<Props> = ({ draggable, onClick, pills }) => {\n  const Wrapper = React.useMemo(() => {\n    if (draggable) {\n      return ({ children }) => (\n        <DraggableSortable\n          className={baseClass}\n          ids={pills.map((pill) => pill.name)}\n          onDragEnd={({ moveFromIndex, moveToIndex }) => {\n            draggable.onDragEnd({\n              moveFromIndex,\n              moveToIndex,\n            })\n          }}\n        >\n          {children}\n        </DraggableSortable>\n      )\n    } else {\n      return ({ children }) => <div className={baseClass}>{children}</div>\n    }\n  }, [draggable, pills])\n\n  return (\n    <Wrapper>\n      {pills.map((pill, i) => {\n        return (\n          <Pill\n            alignIcon=\"left\"\n            aria-checked={pill.selected}\n            className={[`${baseClass}__pill`, pill.selected && `${baseClass}__pill--selected`]\n              .filter(Boolean)\n              .join(' ')}\n            draggable={Boolean(draggable)}\n            icon={pill.selected ? <XIcon /> : <PlusIcon />}\n            id={pill.name}\n            key={pill.key ?? `${pill.name}-${i}`}\n            onClick={() => {\n              if (onClick) {\n                void onClick({ pill })\n              }\n            }}\n            size=\"small\"\n          >\n            {pill.Label ?? <span className={`${baseClass}__pill-label`}>{pill.name}</span>}\n          </Pill>\n        )\n      })}\n    </Wrapper>\n  )\n}\n"],"mappings":"AAAA;;;AAEA,OAAOA,KAAA,MAAW;AAElB,SAASC,QAAQ,QAAQ;AACzB,SAASC,KAAK,QAAQ;AACtB,SAASC,iBAAiB,QAAQ;AAClC,SAASC,IAAI,QAAQ;AACrB,OAAO;AAEP,MAAMC,SAAA,GAAY;AAiBlB;;;;AAIA,OAAO,MAAMC,YAAA,GAAgCA,CAAC;EAAEC,SAAS;EAAEC,OAAO;EAAEC;AAAK,CAAE;EACzE,MAAMC,OAAA,GAAUV,KAAA,CAAMW,OAAO,CAAC;IAC5B,IAAIJ,SAAA,EAAW;MACb,OAAO,CAAC;QAAEK;MAAQ,CAAE,kBAClBC,IAAA,CAACV,iBAAA;QACCW,SAAA,EAAWT,SAAA;QACXU,GAAA,EAAKN,KAAA,CAAMO,GAAG,CAAEC,IAAA,IAASA,IAAA,CAAKC,IAAI;QAClCC,SAAA,EAAWA,CAAC;UAAEC,aAAa;UAAEC;QAAW,CAAE;UACxCd,SAAA,CAAUY,SAAS,CAAC;YAClBC,aAAA;YACAC;UACF;QACF;kBAECT;;IAGP,OAAO;MACL,OAAO,CAAC;QAAEA,QAAQ,EAARA;MAAQ,CAAE,kBAAKC,IAAA,CAAC;QAAIC,SAAA,EAAWT,SAAA;kBAAYO;;IACvD;EACF,GAAG,CAACL,SAAA,EAAWE,KAAA,CAAM;EAErB,oBACEI,IAAA,CAACH,OAAA;cACED,KAAA,CAAMO,GAAG,CAAC,CAACC,MAAA,EAAMK,CAAA;MAChB,oBACET,IAAA,CAACT,IAAA;QACCmB,SAAA,EAAU;QACV,gBAAcN,MAAA,CAAKO,QAAQ;QAC3BV,SAAA,EAAW,CAAC,GAAGT,SAAA,QAAiB,EAAEY,MAAA,CAAKO,QAAQ,IAAI,GAAGnB,SAAA,kBAA2B,CAAC,CAC/EoB,MAAM,CAACC,OAAA,EACPC,IAAI,CAAC;QACRpB,SAAA,EAAWmB,OAAA,CAAQnB,SAAA;QACnBqB,IAAA,EAAMX,MAAA,CAAKO,QAAQ,gBAAGX,IAAA,CAACX,KAAA,qBAAWW,IAAA,CAACZ,QAAA;QACnC4B,EAAA,EAAIZ,MAAA,CAAKC,IAAI;QAEbV,OAAA,EAASA,CAAA;UACP,IAAIA,OAAA,EAAS;YACX,KAAKA,OAAA,CAAQ;cAAES,IAAA,EAAAA;YAAK;UACtB;QACF;QACAa,IAAA,EAAK;kBAEJb,MAAA,CAAKc,KAAK,iBAAIlB,IAAA,CAAC;UAAKC,SAAA,EAAW,GAAGT,SAAA,cAAuB;oBAAGY,MAAA,CAAKC;;SAR7DD,MAAA,CAAKe,GAAG,IAAI,GAAGf,MAAA,CAAKC,IAAI,IAAII,CAAA,EAAG;IAW1C;;AAGN","ignoreList":[]}