{"version":3,"file":"index.js","names":["c","_c","getTranslation","React","useConfig","useFolder","useTranslation","Button","CheckboxPopup","baseClass","FilterFolderTypePill","$","activeCollectionFolderSlugs","visibleCollectionSlugs","allCollectionFolderSlugs","folderCollectionSlugs","folderCollectionSlug","refineFolderData","i18n","t","config","getEntityConfig","t0","collections","reduce","acc","collection","folders","includes","slug","push","label","labels","plural","value","collectionSlug","allCollectionOptions","useState","t1","t2","t3","selectedValues","relationTo","query","updateURL","_jsx","_jsxs","buttonStyle","el","icon","margin","size","children","length","className","options"],"sources":["../../../../src/elements/FolderView/FilterFolderTypePill/index.tsx"],"sourcesContent":["'use client'\n\nimport { getTranslation } from '@payloadcms/translations'\nimport React from 'react'\n\nimport { useConfig } from '../../../providers/Config/index.js'\nimport { useFolder } from '../../../providers/Folders/index.js'\nimport { useTranslation } from '../../../providers/Translation/index.js'\nimport { Button } from '../../Button/index.js'\nimport { CheckboxPopup } from '../../CheckboxPopup/index.js'\nimport './index.scss'\n\nconst baseClass = 'collection-type'\n\nexport function FilterFolderTypePill() {\n  const {\n    activeCollectionFolderSlugs: visibleCollectionSlugs,\n    allCollectionFolderSlugs: folderCollectionSlugs,\n    folderCollectionSlug,\n    refineFolderData,\n  } = useFolder()\n  const { i18n, t } = useTranslation()\n  const { config, getEntityConfig } = useConfig()\n\n  const [allCollectionOptions] = React.useState(() => {\n    return config.collections.reduce(\n      (acc, collection) => {\n        if (collection.folders && folderCollectionSlugs.includes(collection.slug)) {\n          acc.push({\n            label: getTranslation(collection.labels?.plural, i18n),\n            value: collection.slug,\n          })\n        }\n\n        return acc\n      },\n      [\n        {\n          label: getTranslation(\n            getEntityConfig({ collectionSlug: folderCollectionSlug }).labels?.plural,\n            i18n,\n          ),\n          value: folderCollectionSlug,\n        },\n      ],\n    )\n  })\n\n  return (\n    <CheckboxPopup\n      Button={\n        <Button buttonStyle=\"pill\" el=\"div\" icon=\"chevron\" margin={false} size=\"small\">\n          {visibleCollectionSlugs.length ? (\n            <span className={`${baseClass}__count`}>{visibleCollectionSlugs.length}</span>\n          ) : null}\n          {t('version:type')}\n        </Button>\n      }\n      key=\"relation-to-selection-popup\"\n      onChange={({ selectedValues: relationTo }) => {\n        void refineFolderData({ query: { relationTo }, updateURL: true })\n      }}\n      options={allCollectionOptions}\n      selectedValues={visibleCollectionSlugs}\n    />\n  )\n}\n"],"mappings":"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","ignoreList":[]}