{"version":3,"file":"index.js","names":["c","_c","useRouter","formatAdminURL","React","useCallback","useAuth","useConfig","useRouteTransition","useTranslation","ConfirmationModal","stayLoggedInModalSlug","StayLoggedInModal","$","refreshCookie","router","config","admin","t0","routes","t1","t2","logout","logoutRoute","adminRoute","t","startRouteTransition","t3","push","path","onConfirm","t4","onCancel","t5","_jsx","body","cancelLabel","confirmLabel","heading","modalSlug"],"sources":["../../../src/elements/StayLoggedIn/index.tsx"],"sourcesContent":["'use client'\nimport { useRouter } from 'next/navigation.js'\nimport { formatAdminURL } from 'payload/shared'\nimport React, { useCallback } from 'react'\n\nimport type { OnCancel } from '../ConfirmationModal/index.js'\n\nimport { useAuth } from '../../providers/Auth/index.js'\nimport { useConfig } from '../../providers/Config/index.js'\nimport { useRouteTransition } from '../../providers/RouteTransition/index.js'\nimport { useTranslation } from '../../providers/Translation/index.js'\nimport { ConfirmationModal } from '../ConfirmationModal/index.js'\n\nexport const stayLoggedInModalSlug = 'stay-logged-in'\n\nexport const StayLoggedInModal: React.FC = () => {\n  const { refreshCookie } = useAuth()\n\n  const router = useRouter()\n  const { config } = useConfig()\n\n  const {\n    admin: {\n      routes: { logout: logoutRoute },\n    },\n    routes: { admin: adminRoute },\n  } = config\n\n  const { t } = useTranslation()\n  const { startRouteTransition } = useRouteTransition()\n\n  const onConfirm = useCallback(() => {\n    return startRouteTransition(() =>\n      router.push(\n        formatAdminURL({\n          adminRoute,\n          path: logoutRoute,\n        }),\n      ),\n    )\n  }, [router, startRouteTransition, adminRoute, logoutRoute])\n\n  const onCancel: OnCancel = useCallback(() => {\n    refreshCookie()\n  }, [refreshCookie])\n\n  return (\n    <ConfirmationModal\n      body={t('authentication:youAreInactive')}\n      cancelLabel={t('authentication:stayLoggedIn')}\n      confirmLabel={t('authentication:logOut')}\n      heading={t('authentication:stayLoggedIn')}\n      modalSlug={stayLoggedInModalSlug}\n      onCancel={onCancel}\n      onConfirm={onConfirm}\n    />\n  )\n}\n"],"mappings":"AAAA;;AAAA,SAAAA,CAAA,IAAAC,EAAA;;AACA,SAASC,SAAS,QAAQ;AAC1B,SAASC,cAAc,QAAQ;AAC/B,OAAOC,KAAA,IAASC,WAAW,QAAQ;AAInC,SAASC,OAAO,QAAQ;AACxB,SAASC,SAAS,QAAQ;AAC1B,SAASC,kBAAkB,QAAQ;AACnC,SAASC,cAAc,QAAQ;AAC/B,SAASC,iBAAiB,QAAQ;AAElC,OAAO,MAAMC,qBAAA,GAAwB;AAErC,OAAO,MAAMC,iBAAA,GAA8BA,CAAA;EAAA,MAAAC,CAAA,GAAAZ,EAAA;EACzC;IAAAa;EAAA,IAA0BR,OAAA;EAE1B,MAAAS,MAAA,GAAeb,SAAA;EACf;IAAAc;EAAA,IAAmBT,SAAA;EAEnB;IAAAU,KAAA,EAAAC,EAAA;IAAAC,MAAA,EAAAC;EAAA,IAKIJ,MAAA;EAJK;IAAAG,MAAA,EAAAE;EAAA,IAAAH,EAEN;EADS;IAAAI,MAAA,EAAAC;EAAA,IAAAF,EAAuB;EAEzB;IAAAJ,KAAA,EAAAO;EAAA,IAAAJ,EAAqB;EAG/B;IAAAK;EAAA,IAAchB,cAAA;EACd;IAAAiB;EAAA,IAAiClB,kBAAA;EAAA,IAAAmB,EAAA;EAAA,IAAAd,CAAA,QAAAW,UAAA,IAAAX,CAAA,QAAAU,WAAA,IAAAV,CAAA,QAAAE,MAAA,IAAAF,CAAA,QAAAa,oBAAA;IAEHC,EAAA,GAAAA,CAAA,KACrBD,oBAAA,OACLX,MAAA,CAAAa,IAAA,CACEzB,cAAA;MAAAqB,UAAA;MAAAK,IAAA,EAEQN;IAAA,CACR;IAGNV,CAAA,MAAAW,UAAA;IAAAX,CAAA,MAAAU,WAAA;IAAAV,CAAA,MAAAE,MAAA;IAAAF,CAAA,MAAAa,oBAAA;IAAAb,CAAA,MAAAc,EAAA;EAAA;IAAAA,EAAA,GAAAd,CAAA;EAAA;EATA,MAAAiB,SAAA,GAAkBH,EASwC;EAAA,IAAAI,EAAA;EAAA,IAAAlB,CAAA,QAAAC,aAAA;IAEnBiB,EAAA,GAAAA,CAAA;MACrCjB,aAAA;IAAA;IACFD,CAAA,MAAAC,aAAA;IAAAD,CAAA,MAAAkB,EAAA;EAAA;IAAAA,EAAA,GAAAlB,CAAA;EAAA;EAFA,MAAAmB,QAAA,GAA2BD,EAET;EAAA,IAAAE,EAAA;EAAA,IAAApB,CAAA,QAAAmB,QAAA,IAAAnB,CAAA,QAAAiB,SAAA,IAAAjB,CAAA,QAAAY,CAAA;IAGhBQ,EAAA,GAAAC,IAAA,CAAAxB,iBAAA;MAAAyB,IAAA,EACQV,CAAA,CAAE;MAAAW,WAAA,EACKX,CAAA,CAAE;MAAAY,YAAA,EACDZ,CAAA,CAAE;MAAAa,OAAA,EACPb,CAAA,CAAE;MAAAc,SAAA,EAAA5B,qBAAA;MAAAqB,QAAA;MAAAF;IAAA,C;;;;;;;;SAJbG,E;CAUJ","ignoreList":[]}