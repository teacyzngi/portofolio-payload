{"version":3,"file":"index.js","names":["c","_c","getTranslation","PeopleIcon","XIcon","useConfig","useTranslation","Pill","baseClass","QueryPresetToggler","t0","$","activePreset","openPresetListDrawer","resetPreset","i18n","t","getEntityConfig","t1","presetsConfig","collectionSlug","t2","t3","filter","Boolean","t4","_jsx","className","join","id","onClick","pillStyle","size","children","_jsxs","isShared","title","label","labels","singular","e","stopPropagation","onKeyDown","e_0","key","role","tabIndex"],"sources":["../../../../src/elements/QueryPresets/QueryPresetToggler/index.tsx"],"sourcesContent":["'use client'\nimport type { QueryPreset } from 'payload'\n\nimport { getTranslation } from '@payloadcms/translations'\n\nimport { PeopleIcon } from '../../../icons/People/index.js'\nimport { XIcon } from '../../../icons/X/index.js'\nimport { useConfig } from '../../../providers/Config/index.js'\nimport { useTranslation } from '../../../providers/Translation/index.js'\nimport { Pill } from '../../Pill/index.js'\nimport './index.scss'\n\nconst baseClass = 'active-query-preset'\n\nexport function QueryPresetToggler({\n  activePreset,\n  openPresetListDrawer,\n  resetPreset,\n}: {\n  activePreset: QueryPreset\n  openPresetListDrawer: () => void\n  resetPreset: () => Promise<void>\n}) {\n  const { i18n, t } = useTranslation()\n  const { getEntityConfig } = useConfig()\n\n  const presetsConfig = getEntityConfig({\n    collectionSlug: 'payload-query-presets',\n  })\n\n  return (\n    <Pill\n      className={[baseClass, activePreset && `${baseClass}--active`].filter(Boolean).join(' ')}\n      id=\"select-preset\"\n      onClick={() => {\n        openPresetListDrawer()\n      }}\n      pillStyle=\"light\"\n      size=\"small\"\n    >\n      <div className={`${baseClass}__label`}>\n        {activePreset?.isShared && <PeopleIcon className={`${baseClass}__shared`} />}\n        <div className={`${baseClass}__label-text-max-width`}>\n          <div className={`${baseClass}__label-text`}>\n            {activePreset?.title ||\n              t('general:selectLabel', {\n                label: getTranslation(presetsConfig.labels.singular, i18n),\n              })}\n          </div>\n        </div>\n        {activePreset ? (\n          <div\n            className={`${baseClass}__clear`}\n            id=\"clear-preset\"\n            onClick={async (e) => {\n              e.stopPropagation()\n              await resetPreset()\n            }}\n            onKeyDown={async (e) => {\n              if (e.key === 'Enter' || e.key === ' ') {\n                e.stopPropagation()\n                await resetPreset()\n              }\n            }}\n            role=\"button\"\n            tabIndex={0}\n          >\n            <XIcon />\n          </div>\n        ) : null}\n      </div>\n    </Pill>\n  )\n}\n"],"mappings":"AAAA;;AAAA,SAAAA,CAAA,IAAAC,EAAA;;AAGA,SAASC,cAAc,QAAQ;AAE/B,SAASC,UAAU,QAAQ;AAC3B,SAASC,KAAK,QAAQ;AACtB,SAASC,SAAS,QAAQ;AAC1B,SAASC,cAAc,QAAQ;AAC/B,SAASC,IAAI,QAAQ;AACrB,OAAO;AAEP,MAAMC,SAAA,GAAY;AAElB,OAAO,SAAAC,mBAAAC,EAAA;EAAA,MAAAC,CAAA,GAAAV,EAAA;EAA4B;IAAAW,YAAA;IAAAC,oBAAA;IAAAC;EAAA,IAAAJ,EAQlC;EACC;IAAAK,IAAA;IAAAC;EAAA,IAAoBV,cAAA;EACpB;IAAAW;EAAA,IAA4BZ,SAAA;EAAA,IAAAa,EAAA;EAAA,IAAAP,CAAA,QAAAC,YAAA,IAAAD,CAAA,QAAAM,eAAA,IAAAN,CAAA,QAAAI,IAAA,IAAAJ,CAAA,QAAAE,oBAAA,IAAAF,CAAA,QAAAG,WAAA,IAAAH,CAAA,QAAAK,CAAA;IAE5B,MAAAG,aAAA,GAAsBF,eAAA;MAAAG,cAAA,EACJ;IAAA,CAClB;IAI2B,MAAAC,EAAA,GAAAT,YAAA,IAAgB,GAAAJ,SAAA,UAAsB;IAAA,IAAAc,EAAA;IAAA,IAAAX,CAAA,QAAAU,EAAA;MAAlDC,EAAA,IAAAd,SAAA,EAAYa,EAAsC,EAAAE,MAAA,CAAAC,OAAS;MAAAb,CAAA,MAAAU,EAAA;MAAAV,CAAA,MAAAW,EAAA;IAAA;MAAAA,EAAA,GAAAX,CAAA;IAAA;IAAA,IAAAc,EAAA;IAAA,IAAAd,CAAA,QAAAE,oBAAA;MAE7DY,EAAA,GAAAA,CAAA;QACPZ,oBAAA;MAAA;MACFF,CAAA,MAAAE,oBAAA;MAAAF,CAAA,OAAAc,EAAA;IAAA;MAAAA,EAAA,GAAAd,CAAA;IAAA;IALFO,EAAA,GAAAQ,IAAA,CAAAnB,IAAA;MAAAoB,SAAA,EACaL,EAA2D,CAAAM,IAAA,CAAc;MAAAC,EAAA,EACjF;MAAAC,OAAA,EACML,EAET;MAAAM,SAAA,EACU;MAAAC,IAAA,EACL;MAAAC,QAAA,EAELC,KAAA,CAAC;QAAAP,SAAA,EAAe,GAAAnB,SAAA,SAAqB;QAAAyB,QAAA,GAClCrB,YAAA,EAAAuB,QAAA,IAA0BT,IAAA,CAAAvB,UAAA;UAAAwB,SAAA,EAAuB,GAAAnB,SAAA;QAAsB,C,GACxEkB,IAAA,CAAC;UAAAC,SAAA,EAAe,GAAAnB,SAAA,wBAAoC;UAAAyB,QAAA,EAClDP,IAAA,CAAC;YAAAC,SAAA,EAAe,GAAAnB,SAAA,cAA0B;YAAAyB,QAAA,EACvCrB,YAAA,EAAAwB,KAAA,IACCpB,CAAA,CAAE;cAAAqB,KAAA,EACOnC,cAAA,CAAeiB,aAAA,CAAAmB,MAAA,CAAAC,QAAA,EAA+BxB,IAAA;YAAA,CACvD;UAAA,C;YAGLH,YAAA,GACCc,IAAA,CAAC;UAAAC,SAAA,EACY,GAAAnB,SAAA,SAAqB;UAAAqB,EAAA,EAC7B;UAAAC,OAAA,QAAAU,CAAA;YAEDA,CAAA,CAAAC,eAAA,CAAiB;YAAA,MACX3B,WAAA;UAAA;UAAA4B,SAAA,QAAAC,GAAA;YAAA,IAGFH,GAAA,CAAAI,GAAA,KAAU,WAAWJ,GAAA,CAAAI,GAAA,KAAU;cACjCJ,GAAA,CAAAC,eAAA,CAAiB;cAAA,MACX3B,WAAA;YAAA;UAAA;UAAA+B,IAAA,EAGL;UAAAC,QAAA;UAAAb,QAAA,EAGLP,IAAA,CAAAtB,KAAA,IAAC;QAAA,C,QAED;MAAA,C;;;;;;;;;;;;SAtCRc,E","ignoreList":[]}