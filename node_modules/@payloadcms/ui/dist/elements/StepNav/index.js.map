{"version":3,"file":"index.js","names":["c","_c","getTranslation","React","Fragment","PayloadIcon","useConfig","useTranslation","Link","RenderCustomComponent","StepNavProvider","useStepNav","SetStepNav","baseClass","StepNav","t0","$","className","CustomIcon","i18n","stepNav","config","t1","routes","t2","admin","t","t3","_jsx","children","length","_jsxs","filter","Boolean","join","href","prefetch","tabIndex","title","CustomComponent","Fallback","map","item","i","StepLabel","label","isLast","Step","url"],"sources":["../../../src/elements/StepNav/index.tsx"],"sourcesContent":["'use client'\n\nimport { getTranslation } from '@payloadcms/translations'\nimport React, { Fragment } from 'react'\n\nimport type { StepNavItem } from './types.js'\n\nimport { PayloadIcon } from '../../graphics/Icon/index.js'\nimport { useConfig } from '../../providers/Config/index.js'\nimport { useTranslation } from '../../providers/Translation/index.js'\nimport { Link } from '../Link/index.js'\nimport { RenderCustomComponent } from '../RenderCustomComponent/index.js'\nimport { StepNavProvider, useStepNav } from './context.js'\nimport './index.scss'\n\nexport { SetStepNav } from './SetStepNav.js'\n\nconst baseClass = 'step-nav'\n\nconst StepNav: React.FC<{\n  readonly className?: string\n  readonly CustomIcon?: React.ReactNode\n  /**\n   * @deprecated\n   * This prop is deprecated and will be removed in the next major version.\n   * Components now import their own `Link` directly from `next/link`.\n   */\n  readonly Link?: React.ComponentType\n}> = ({ className, CustomIcon }) => {\n  const { i18n } = useTranslation()\n\n  const { stepNav } = useStepNav()\n\n  const {\n    config: {\n      routes: { admin },\n    },\n  } = useConfig()\n\n  const { t } = useTranslation()\n\n  return (\n    <Fragment>\n      {stepNav.length > 0 ? (\n        <nav className={[baseClass, className].filter(Boolean).join(' ')}>\n          <Link className={`${baseClass}__home`} href={admin} prefetch={false} tabIndex={0}>\n            <span title={t('general:dashboard')}>\n              <RenderCustomComponent CustomComponent={CustomIcon} Fallback={<PayloadIcon />} />\n            </span>\n          </Link>\n          <span>/</span>\n          {stepNav.map((item, i) => {\n            const StepLabel = getTranslation(item.label, i18n)\n            const isLast = stepNav.length === i + 1\n\n            const Step = isLast ? (\n              <span className={`${baseClass}__last`} key={i}>\n                {StepLabel}\n              </span>\n            ) : (\n              <Fragment key={i}>\n                {item.url ? (\n                  <Link href={item.url} prefetch={false}>\n                    <span key={i}>{StepLabel}</span>\n                  </Link>\n                ) : (\n                  <span key={i}>{StepLabel}</span>\n                )}\n                <span>/</span>\n              </Fragment>\n            )\n\n            return Step\n          })}\n        </nav>\n      ) : (\n        <div className={[baseClass, className].filter(Boolean).join(' ')}>\n          <div className={`${baseClass}__home`}>\n            <span title={t('general:dashboard')}>\n              <RenderCustomComponent CustomComponent={CustomIcon} Fallback={<PayloadIcon />} />\n            </span>\n          </div>\n        </div>\n      )}\n    </Fragment>\n  )\n}\n\nexport { StepNav, StepNavItem, StepNavProvider, useStepNav }\n"],"mappings":"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","ignoreList":[]}