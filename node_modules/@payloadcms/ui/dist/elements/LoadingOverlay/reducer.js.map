{"version":3,"file":"reducer.js","names":["defaultLoadingOverlayState","isLoading","loaders","loadingText","overlayType","reducer","state","action","loadersCopy","type","key","payload","push","index","findIndex","item","splice","nextLoader","length","Boolean"],"sources":["../../../src/elements/LoadingOverlay/reducer.ts"],"sourcesContent":["'use client'\nimport type { Action, State } from './types.js'\n\nexport const defaultLoadingOverlayState = {\n  isLoading: false,\n  loaders: [],\n  loadingText: '',\n  overlayType: null,\n}\n\nexport const reducer = (state: State, action: Action): State => {\n  const loadersCopy = [...state.loaders]\n  const { type = 'fullscreen', key = 'user', loadingText } = action.payload\n\n  if (action.type === 'add') {\n    loadersCopy.push({ type, key, loadingText })\n  } else if (action.type === 'remove') {\n    const index = loadersCopy.findIndex((item) => item.key === key && item.type === type)\n    loadersCopy.splice(index, 1)\n  }\n\n  const nextLoader = loadersCopy?.length > 0 ? loadersCopy[loadersCopy.length - 1] : null\n\n  return {\n    isLoading: Boolean(nextLoader),\n    loaders: loadersCopy,\n    loadingText: nextLoader?.loadingText || state?.loadingText,\n    overlayType: nextLoader?.type || state?.overlayType,\n  }\n}\n"],"mappings":"AAAA;;AAGA,OAAO,MAAMA,0BAAA,GAA6B;EACxCC,SAAA,EAAW;EACXC,OAAA,EAAS,EAAE;EACXC,WAAA,EAAa;EACbC,WAAA,EAAa;AACf;AAEA,OAAO,MAAMC,OAAA,GAAUA,CAACC,KAAA,EAAcC,MAAA;EACpC,MAAMC,WAAA,GAAc,C,GAAIF,KAAA,CAAMJ,OAAO,CAAC;EACtC,MAAM;IAAEO,IAAA,GAAO,YAAY;IAAEC,GAAA,GAAM,MAAM;IAAEP;EAAW,CAAE,GAAGI,MAAA,CAAOI,OAAO;EAEzE,IAAIJ,MAAA,CAAOE,IAAI,KAAK,OAAO;IACzBD,WAAA,CAAYI,IAAI,CAAC;MAAEH,IAAA;MAAMC,GAAA;MAAKP;IAAY;EAC5C,OAAO,IAAII,MAAA,CAAOE,IAAI,KAAK,UAAU;IACnC,MAAMI,KAAA,GAAQL,WAAA,CAAYM,SAAS,CAAEC,IAAA,IAASA,IAAA,CAAKL,GAAG,KAAKA,GAAA,IAAOK,IAAA,CAAKN,IAAI,KAAKA,IAAA;IAChFD,WAAA,CAAYQ,MAAM,CAACH,KAAA,EAAO;EAC5B;EAEA,MAAMI,UAAA,GAAaT,WAAA,EAAaU,MAAA,GAAS,IAAIV,WAAW,CAACA,WAAA,CAAYU,MAAM,GAAG,EAAE,GAAG;EAEnF,OAAO;IACLjB,SAAA,EAAWkB,OAAA,CAAQF,UAAA;IACnBf,OAAA,EAASM,WAAA;IACTL,WAAA,EAAac,UAAA,EAAYd,WAAA,IAAeG,KAAA,EAAOH,WAAA;IAC/CC,WAAA,EAAaa,UAAA,EAAYR,IAAA,IAAQH,KAAA,EAAOF;EAC1C;AACF","ignoreList":[]}