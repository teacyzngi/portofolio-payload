{"version":3,"file":"ListBulkUploadButton.js","names":["c","_c","useModal","useRouter","React","useBulkUpload","useTranslation","Button","ListBulkUploadButton","t0","$","collectionSlug","hasCreatePermission","isBulkUploadEnabled","onBulkUploadSuccess","openBulkUpload","openBulkUploadFromProps","drawerSlug","bulkUploadDrawerSlug","setCollectionSlug","setOnSuccess","t","openModal","router","t1","refresh","t2","_jsx","buttonStyle","onClick","size","children"],"sources":["../../../../src/elements/ListHeader/TitleActions/ListBulkUploadButton.tsx"],"sourcesContent":["'use client'\nimport type { CollectionSlug } from 'payload'\n\nimport { useModal } from '@faceless-ui/modal'\nimport { useRouter } from 'next/navigation.js'\nimport React from 'react'\n\nimport { useBulkUpload } from '../../../elements/BulkUpload/index.js'\nimport { useTranslation } from '../../../providers/Translation/index.js'\nimport { Button } from '../../Button/index.js'\n\nexport function ListBulkUploadButton({\n  collectionSlug,\n  hasCreatePermission,\n  isBulkUploadEnabled,\n  onBulkUploadSuccess,\n  openBulkUpload: openBulkUploadFromProps,\n}: {\n  collectionSlug: CollectionSlug\n  hasCreatePermission: boolean\n  isBulkUploadEnabled: boolean\n  onBulkUploadSuccess?: () => void\n  /**\n   * @deprecated This prop will be removed in the next major version.\n   *\n   * Prefer using `onBulkUploadSuccess`\n   */\n  openBulkUpload?: () => void\n}) {\n  const { drawerSlug: bulkUploadDrawerSlug, setCollectionSlug, setOnSuccess } = useBulkUpload()\n  const { t } = useTranslation()\n  const { openModal } = useModal()\n  const router = useRouter()\n\n  const openBulkUpload = React.useCallback(() => {\n    if (typeof openBulkUploadFromProps === 'function') {\n      openBulkUploadFromProps()\n    } else {\n      setCollectionSlug(collectionSlug)\n      openModal(bulkUploadDrawerSlug)\n      setOnSuccess(() => {\n        if (typeof onBulkUploadSuccess === 'function') {\n          onBulkUploadSuccess()\n        } else {\n          router.refresh()\n        }\n      })\n    }\n  }, [\n    router,\n    collectionSlug,\n    bulkUploadDrawerSlug,\n    openModal,\n    setCollectionSlug,\n    setOnSuccess,\n    onBulkUploadSuccess,\n    openBulkUploadFromProps,\n  ])\n\n  if (!hasCreatePermission || !isBulkUploadEnabled) {\n    return null\n  }\n\n  return (\n    <Button\n      aria-label={t('upload:bulkUpload')}\n      buttonStyle=\"pill\"\n      key=\"bulk-upload-button\"\n      onClick={openBulkUpload}\n      size=\"small\"\n    >\n      {t('upload:bulkUpload')}\n    </Button>\n  )\n}\n"],"mappings":"AAAA;;AAAA,SAAAA,CAAA,IAAAC,EAAA;;AAGA,SAASC,QAAQ,QAAQ;AACzB,SAASC,SAAS,QAAQ;AAC1B,OAAOC,KAAA,MAAW;AAElB,SAASC,aAAa,QAAQ;AAC9B,SAASC,cAAc,QAAQ;AAC/B,SAASC,MAAM,QAAQ;AAEvB,OAAO,SAAAC,qBAAAC,EAAA;EAAA,MAAAC,CAAA,GAAAT,EAAA;EAA8B;IAAAU,cAAA;IAAAC,mBAAA;IAAAC,mBAAA;IAAAC,mBAAA;IAAAC,cAAA,EAAAC;EAAA,IAAAP,EAiBpC;EACC;IAAAQ,UAAA,EAAAC,oBAAA;IAAAC,iBAAA;IAAAC;EAAA,IAA8Ef,aAAA;EAC9E;IAAAgB;EAAA,IAAcf,cAAA;EACd;IAAAgB;EAAA,IAAsBpB,QAAA;EACtB,MAAAqB,MAAA,GAAepB,SAAA;EAAA,IAAAqB,EAAA;EAAA,IAAAd,CAAA,QAAAQ,oBAAA,IAAAR,CAAA,QAAAC,cAAA,IAAAD,CAAA,QAAAI,mBAAA,IAAAJ,CAAA,QAAAM,uBAAA,IAAAN,CAAA,QAAAY,SAAA,IAAAZ,CAAA,QAAAa,MAAA,IAAAb,CAAA,QAAAS,iBAAA,IAAAT,CAAA,QAAAU,YAAA;IAE0BI,EAAA,GAAAA,CAAA;MAAA,IACnC,OAAOR,uBAAA,KAA4B;QACrCA,uBAAA;MAAA;QAEAG,iBAAA,CAAkBR,cAAA;QAClBW,SAAA,CAAUJ,oBAAA;QACVE,YAAA;UAAA,IACM,OAAON,mBAAA,KAAwB;YACjCA,mBAAA;UAAA;YAEAS,MAAA,CAAAE,OAAA,CAAc;UAAA;QAAA,CAElB;MAAA;IAAA;IAEJf,CAAA,MAAAQ,oBAAA;IAAAR,CAAA,MAAAC,cAAA;IAAAD,CAAA,MAAAI,mBAAA;IAAAJ,CAAA,MAAAM,uBAAA;IAAAN,CAAA,MAAAY,SAAA;IAAAZ,CAAA,MAAAa,MAAA;IAAAb,CAAA,MAAAS,iBAAA;IAAAT,CAAA,MAAAU,YAAA;IAAAV,CAAA,MAAAc,EAAA;EAAA;IAAAA,EAAA,GAAAd,CAAA;EAAA;EAdA,MAAAK,cAAA,GAAuBS,EAuBtB;EAAA,IAEG,CAACZ,mBAAA,KAAwBC,mBAAA;IAAA;EAAA;EAAA,IAAAa,EAAA;EAAA,IAAAhB,CAAA,QAAAK,cAAA,IAAAL,CAAA,SAAAW,CAAA;IAK3BK,EAAA,GAAAC,IAAA,CAAApB,MAAA;MAAA,cACcc,CAAA,CAAE;MAAAO,WAAA,EACF;MAAAC,OAAA,EAEHd,cAAA;MAAAe,IAAA,EACJ;MAAAC,QAAA,EAEJV,CAAA,CAAE;IAAA,GAJC;IAAAX,CAAA,MAAAK,cAAA;IAAAL,CAAA,OAAAW,CAAA;IAAAX,CAAA,OAAAgB,EAAA;EAAA;IAAAA,EAAA,GAAAhB,CAAA;EAAA;EAAA,OAHNgB,EAGM;AAAA","ignoreList":[]}