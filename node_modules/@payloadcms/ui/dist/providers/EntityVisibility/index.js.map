{"version":3,"file":"index.js","names":["c","_c","React","createContext","use","useCallback","EntityVisibilityContext","EntityVisibilityProvider","t0","$","children","visibleEntities","t1","t2","collectionSlug","globalSlug","collections","includes","globals","isEntityVisible","_jsx","value","useEntityVisibility"],"sources":["../../../src/providers/EntityVisibility/index.tsx"],"sourcesContent":["'use client'\nimport type { SanitizedCollectionConfig, SanitizedGlobalConfig, VisibleEntities } from 'payload'\n\nimport React, { createContext, use, useCallback } from 'react'\n\nexport type VisibleEntitiesContextType = {\n  isEntityVisible: ({\n    collectionSlug,\n    globalSlug,\n  }: {\n    collectionSlug?: SanitizedCollectionConfig['slug']\n    globalSlug?: SanitizedGlobalConfig['slug']\n  }) => boolean\n  visibleEntities: VisibleEntities\n}\n\nexport const EntityVisibilityContext = createContext({} as VisibleEntitiesContextType)\n\nexport const EntityVisibilityProvider: React.FC<{\n  children: React.ReactNode\n  visibleEntities?: VisibleEntities\n}> = ({ children, visibleEntities }) => {\n  const isEntityVisible = useCallback(\n    ({\n      collectionSlug,\n      globalSlug,\n    }: {\n      collectionSlug: SanitizedCollectionConfig['slug']\n      globalSlug: SanitizedGlobalConfig['slug']\n    }) => {\n      if (collectionSlug) {\n        return visibleEntities.collections.includes(collectionSlug)\n      }\n\n      if (globalSlug) {\n        return visibleEntities.globals.includes(globalSlug)\n      }\n\n      return false\n    },\n    [visibleEntities],\n  )\n\n  return (\n    <EntityVisibilityContext value={{ isEntityVisible, visibleEntities }}>\n      {children}\n    </EntityVisibilityContext>\n  )\n}\n\nexport const useEntityVisibility = (): VisibleEntitiesContextType => use(EntityVisibilityContext)\n"],"mappings":"AAAA;;AAAA,SAAAA,CAAA,IAAAC,EAAA;;AAGA,OAAOC,KAAA,IAASC,aAAa,EAAEC,GAAG,EAAEC,WAAW,QAAQ;AAavD,OAAO,MAAMC,uBAAA,gBAA0BH,aAAA,CAAc,CAAC;AAEtD,OAAO,MAAMI,wBAAA,GAGRC,EAAA;EAAA,MAAAC,CAAA,GAAAR,EAAA;EAAC;IAAAS,QAAA;IAAAC;EAAA,IAAAH,EAA6B;EAAA,IAAAI,EAAA;EAAA,IAAAH,CAAA,QAAAE,eAAA;IAE/BC,EAAA,GAAAC,EAAA;MAAC;QAAAC,cAAA;QAAAC;MAAA,IAAAF,EAMA;MAAA,IACKC,cAAA;QAAA,OACKH,eAAA,CAAAK,WAAA,CAAAC,QAAA,CAAqCH,cAAA;MAAA;MAAA,IAG1CC,UAAA;QAAA,OACKJ,eAAA,CAAAO,OAAA,CAAAD,QAAA,CAAiCF,UAAA;MAAA;MAAA;IAAA;IAI5CN,CAAA,MAAAE,eAAA;IAAAF,CAAA,MAAAG,EAAA;EAAA;IAAAA,EAAA,GAAAH,CAAA;EAAA;EAjBF,MAAAU,eAAA,GAAwBP,EAkBL;EAAA,IAAAC,EAAA;EAAA,IAAAJ,CAAA,QAAAC,QAAA,IAAAD,CAAA,QAAAU,eAAA,IAAAV,CAAA,QAAAE,eAAA;IAIjBE,EAAA,GAAAO,IAAA,CAAAd,uBAAA;MAAAe,KAAA;QAAAF,eAAA;QAAAR;MAAA;MAAAD;IAAA,C;;;;;;;;SAAAG,E;CAIJ;AAEA,OAAO,MAAMS,mBAAA,GAAsBA,CAAA,KAAkClB,GAAA,CAAIE,uBAAA","ignoreList":[]}