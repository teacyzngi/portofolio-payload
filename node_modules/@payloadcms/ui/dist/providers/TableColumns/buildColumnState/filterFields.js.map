{"version":3,"file":"filterFields.js","names":["fieldIsHiddenOrDisabled","fieldIsID","filterFields","incomingFields","shouldSkipField","field","type","admin","disableListColumn","reduce","acc","formattedField","tabs","map","tab","fields","push","Array","isArray"],"sources":["../../../../src/providers/TableColumns/buildColumnState/filterFields.tsx"],"sourcesContent":["import type { ClientField, Field } from 'payload'\n\nimport { fieldIsHiddenOrDisabled, fieldIsID } from 'payload/shared'\n\n/**\n * Filters fields that are hidden, disabled, or have `disableListColumn` set to `true`.\n * Recurses through `tabs` and any container with `.fields` (e.g., `row`, `group`, `collapsible`).\n */\nexport const filterFields = <T extends ClientField | Field>(incomingFields: T[]): T[] => {\n  const shouldSkipField = (field: T): boolean =>\n    (field.type !== 'ui' && fieldIsHiddenOrDisabled(field) && !fieldIsID(field)) ||\n    field?.admin?.disableListColumn === true\n\n  return (incomingFields ?? []).reduce<T[]>((acc, field) => {\n    if (shouldSkipField(field)) {\n      return acc\n    }\n\n    // handle tabs\n    if (field.type === 'tabs' && 'tabs' in field) {\n      const formattedField: T = {\n        ...field,\n        tabs: field.tabs.map((tab) => ({\n          ...tab,\n          fields: filterFields(tab.fields as T[]),\n        })),\n      }\n      acc.push(formattedField)\n      return acc\n    }\n\n    // handle fields with subfields (row, group, collapsible, etc.)\n    if ('fields' in field && Array.isArray(field.fields)) {\n      const formattedField: T = {\n        ...field,\n        fields: filterFields(field.fields as T[]),\n      }\n      acc.push(formattedField)\n      return acc\n    }\n\n    // leaf\n    acc.push(field)\n    return acc\n  }, [])\n}\n"],"mappings":"AAEA,SAASA,uBAAuB,EAAEC,SAAS,QAAQ;AAEnD;;;;AAIA,OAAO,MAAMC,YAAA,GAA+CC,cAAA;EAC1D,MAAMC,eAAA,GAAmBC,KAAA,IACvBA,KAAC,CAAMC,IAAI,KAAK,QAAQN,uBAAA,CAAwBK,KAAA,KAAU,CAACJ,SAAA,CAAUI,KAAA,KACrEA,KAAA,EAAOE,KAAA,EAAOC,iBAAA,KAAsB;EAEtC,OAAO,CAACL,cAAA,IAAkB,EAAE,EAAEM,MAAM,CAAM,CAACC,GAAA,EAAKL,KAAA;IAC9C,IAAID,eAAA,CAAgBC,KAAA,GAAQ;MAC1B,OAAOK,GAAA;IACT;IAEA;IACA,IAAIL,KAAA,CAAMC,IAAI,KAAK,UAAU,UAAUD,KAAA,EAAO;MAC5C,MAAMM,cAAA,GAAoB;QACxB,GAAGN,KAAK;QACRO,IAAA,EAAMP,KAAA,CAAMO,IAAI,CAACC,GAAG,CAAEC,GAAA,KAAS;UAC7B,GAAGA,GAAG;UACNC,MAAA,EAAQb,YAAA,CAAaY,GAAA,CAAIC,MAAM;QACjC;MACF;MACAL,GAAA,CAAIM,IAAI,CAACL,cAAA;MACT,OAAOD,GAAA;IACT;IAEA;IACA,IAAI,YAAYL,KAAA,IAASY,KAAA,CAAMC,OAAO,CAACb,KAAA,CAAMU,MAAM,GAAG;MACpD,MAAMJ,cAAA,GAAoB;QACxB,GAAGN,KAAK;QACRU,MAAA,EAAQb,YAAA,CAAaG,KAAA,CAAMU,MAAM;MACnC;MACAL,GAAA,CAAIM,IAAI,CAACL,cAAA;MACT,OAAOD,GAAA;IACT;IAEA;IACAA,GAAA,CAAIM,IAAI,CAACX,KAAA;IACT,OAAOK,GAAA;EACT,GAAG,EAAE;AACP","ignoreList":[]}