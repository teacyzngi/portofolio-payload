{"version":3,"file":"findOptionsByValue.js","names":["findOptionsByValue","allowEdit","options","value","Array","isArray","map","val","matchedOption","forEach","optGroup","find","option","relationTo","undefined"],"sources":["../../../src/fields/Relationship/findOptionsByValue.ts"],"sourcesContent":["'use client'\nimport type { ValueWithRelation } from 'payload'\n\nimport type { Option } from '../../elements/ReactSelect/types.js'\nimport type { OptionGroup } from './types.js'\n\ntype Args = {\n  allowEdit: boolean\n  options: OptionGroup[]\n  value: ValueWithRelation | ValueWithRelation[]\n}\n\nexport const findOptionsByValue = ({ allowEdit, options, value }: Args): Option | Option[] => {\n  if (value || typeof value === 'number') {\n    if (Array.isArray(value)) {\n      return value.map((val) => {\n        let matchedOption: Option\n\n        options.forEach((optGroup) => {\n          if (!matchedOption) {\n            matchedOption = optGroup.options.find((option) => {\n              return option.value === val.value && option.relationTo === val.relationTo\n            })\n          }\n        })\n\n        return matchedOption ? { allowEdit, ...matchedOption } : undefined\n      })\n    }\n\n    let matchedOption: Option\n\n    options.forEach((optGroup) => {\n      if (!matchedOption) {\n        matchedOption = optGroup.options.find((option) => {\n          return option.value === value.value && option.relationTo === value.relationTo\n        })\n      }\n    })\n\n    return matchedOption ? { allowEdit, ...matchedOption } : undefined\n  }\n\n  return undefined\n}\n"],"mappings":"AAAA;;AAYA,OAAO,MAAMA,kBAAA,GAAqBA,CAAC;EAAEC,SAAS;EAAEC,OAAO;EAAEC;AAAK,CAAQ;EACpE,IAAIA,KAAA,IAAS,OAAOA,KAAA,KAAU,UAAU;IACtC,IAAIC,KAAA,CAAMC,OAAO,CAACF,KAAA,GAAQ;MACxB,OAAOA,KAAA,CAAMG,GAAG,CAAEC,GAAA;QAChB,IAAIC,aAAA;QAEJN,OAAA,CAAQO,OAAO,CAAEC,QAAA;UACf,IAAI,CAACF,aAAA,EAAe;YAClBA,aAAA,GAAgBE,QAAA,CAASR,OAAO,CAACS,IAAI,CAAEC,MAAA;cACrC,OAAOA,MAAA,CAAOT,KAAK,KAAKI,GAAA,CAAIJ,KAAK,IAAIS,MAAA,CAAOC,UAAU,KAAKN,GAAA,CAAIM,UAAU;YAC3E;UACF;QACF;QAEA,OAAOL,aAAA,GAAgB;UAAEP,SAAA;UAAW,GAAGO;QAAc,IAAIM,SAAA;MAC3D;IACF;IAEA,IAAIN,aAAA;IAEJN,OAAA,CAAQO,OAAO,CAAEC,QAAA;MACf,IAAI,CAACF,aAAA,EAAe;QAClBA,aAAA,GAAgBE,QAAA,CAASR,OAAO,CAACS,IAAI,CAAEC,MAAA;UACrC,OAAOA,MAAA,CAAOT,KAAK,KAAKA,KAAA,CAAMA,KAAK,IAAIS,MAAA,CAAOC,UAAU,KAAKV,KAAA,CAAMU,UAAU;QAC/E;MACF;IACF;IAEA,OAAOL,aAAA,GAAgB;MAAEP,SAAA;MAAW,GAAGO;IAAc,IAAIM,SAAA;EAC3D;EAEA,OAAOA,SAAA;AACT","ignoreList":[]}