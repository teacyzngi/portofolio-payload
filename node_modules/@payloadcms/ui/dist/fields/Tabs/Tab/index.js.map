{"version":3,"file":"index.js","names":["c","_c","getTranslation","tabHasName","React","useState","ErrorPill","WatchChildErrors","useTranslation","baseClass","TabComponent","t0","$","hidden","isActive","parentPath","setIsActive","tab","i18n","errorCount","setErrorCount","undefined","t1","path","split","slice","name","fieldHasErrors","t2","_jsx","fields","t3","t4","t5","t6","filter","Boolean","_jsxs","Fragment","children","className","join","onClick","type","label","count"],"sources":["../../../../src/fields/Tabs/Tab/index.tsx"],"sourcesContent":["'use client'\n\nimport type { ClientTab } from 'payload'\n\nimport { getTranslation } from '@payloadcms/translations'\nimport { tabHasName } from 'payload/shared'\nimport React, { useState } from 'react'\n\nimport { ErrorPill } from '../../../elements/ErrorPill/index.js'\nimport { WatchChildErrors } from '../../../forms/WatchChildErrors/index.js'\nimport { useTranslation } from '../../../providers/Translation/index.js'\nimport './index.scss'\n\nconst baseClass = 'tabs-field__tab-button'\n\ntype TabProps = {\n  readonly hidden?: boolean\n  readonly isActive?: boolean\n  readonly parentPath: string\n  readonly setIsActive: () => void\n  readonly tab: ClientTab\n}\n\nexport const TabComponent: React.FC<TabProps> = ({\n  hidden,\n  isActive,\n  parentPath,\n  setIsActive,\n  tab,\n}) => {\n  const { i18n } = useTranslation()\n  const [errorCount, setErrorCount] = useState(undefined)\n\n  const path = [\n    // removes parent 'tabs' path segment, i.e. `_index-0`\n    ...(parentPath ? parentPath.split('.').slice(0, -1) : []),\n    ...(tabHasName(tab) ? [tab.name] : []),\n  ]\n\n  const fieldHasErrors = errorCount > 0\n\n  return (\n    <React.Fragment>\n      <WatchChildErrors fields={tab.fields} path={path} setErrorCount={setErrorCount} />\n      <button\n        className={[\n          baseClass,\n          fieldHasErrors && `${baseClass}--has-error`,\n          isActive && `${baseClass}--active`,\n          hidden && `${baseClass}--hidden`,\n        ]\n          .filter(Boolean)\n          .join(' ')}\n        onClick={setIsActive}\n        type=\"button\"\n      >\n        {tab.label ? getTranslation(tab.label, i18n) : tabHasName(tab) ? tab.name : ''}\n        {fieldHasErrors && <ErrorPill count={errorCount} i18n={i18n} />}\n      </button>\n    </React.Fragment>\n  )\n}\n"],"mappings":"AAAA;;AAAA,SAAAA,CAAA,IAAAC,EAAA;;AAIA,SAASC,cAAc,QAAQ;AAC/B,SAASC,UAAU,QAAQ;AAC3B,OAAOC,KAAA,IAASC,QAAQ,QAAQ;AAEhC,SAASC,SAAS,QAAQ;AAC1B,SAASC,gBAAgB,QAAQ;AACjC,SAASC,cAAc,QAAQ;AAC/B,OAAO;AAEP,MAAMC,SAAA,GAAY;AAUlB,OAAO,MAAMC,YAAA,GAAmCC,EAAA;EAAA,MAAAC,CAAA,GAAAX,EAAA;EAAC;IAAAY,MAAA;IAAAC,QAAA;IAAAC,UAAA;IAAAC,WAAA;IAAAC;EAAA,IAAAN,EAMhD;EACC;IAAAO;EAAA,IAAiBV,cAAA;EACjB,OAAAW,UAAA,EAAAC,aAAA,IAAoCf,QAAA,CAAAgB,SAAS;EAAA,IAAAC,EAAA;EAAA,IAAAV,CAAA,QAAAO,UAAA,IAAAP,CAAA,QAAAC,MAAA,IAAAD,CAAA,QAAAM,IAAA,IAAAN,CAAA,QAAAE,QAAA,IAAAF,CAAA,QAAAG,UAAA,IAAAH,CAAA,QAAAI,WAAA,IAAAJ,CAAA,QAAAK,GAAA;IAE7C,MAAAM,IAAA,QAEMR,UAAA,GAAaA,UAAA,CAAAS,KAAA,CAAiB,KAAAC,KAAA,MAAe,MAAO,OACpDtB,UAAA,CAAWc,GAAA,KAAQA,GAAA,CAAAS,IAAA,MAAc;IAGvC,MAAAC,cAAA,GAAuBR,UAAA,IAAa;IAIhC,MAAAS,EAAA,GAAAC,IAAA,CAAAtB,gBAAA;MAAAuB,MAAA,EAA0Bb,GAAA,CAAAa,MAAA;MAAAP,IAAA;MAAAH;IAAA,C;IAItB,MAAAW,EAAA,GAAAJ,cAAA,IAAkB,GAAAlB,SAAA,aAAyB;IAC3C,MAAAuB,EAAA,GAAAlB,QAAA,IAAY,GAAAL,SAAA,UAAsB;IAClC,MAAAwB,EAAA,GAAApB,MAAA,IAAU,GAAAJ,SAAA,UAAsB;IAAA,IAAAyB,EAAA;IAAA,IAAAtB,CAAA,QAAAmB,EAAA,IAAAnB,CAAA,QAAAoB,EAAA,IAAApB,CAAA,SAAAqB,EAAA;MAJvBC,EAAA,IAAAzB,SAAA,EAETsB,EAA2C,EAC3CC,EAAkC,EAClCC,EAAgC,EAAAE,MAAA,CAAAC,OAExB;MAAAxB,CAAA,MAAAmB,EAAA;MAAAnB,CAAA,MAAAoB,EAAA;MAAApB,CAAA,OAAAqB,EAAA;MAAArB,CAAA,OAAAsB,EAAA;IAAA;MAAAA,EAAA,GAAAtB,CAAA;IAAA;IATdU,EAAA,GAAAe,KAAA,CAAAjC,KAAA,CAAAkC,QAAA;MAAAC,QAAA,GACEX,E,EACAS,KAAA,CAAC;QAAAG,SAAA,EACYN,EAMD,CAAAO,IAAA,CACF;QAAAC,OAAA,EACC1B,WAAA;QAAA2B,IAAA,EACJ;QAAAJ,QAAA,GAEJtB,GAAA,CAAA2B,KAAA,GAAY1C,cAAA,CAAee,GAAA,CAAA2B,KAAA,EAAW1B,IAAA,IAAQf,UAAA,CAAWc,GAAA,IAAOA,GAAA,CAAAS,IAAA,GAAW,IAC3EC,cAAA,IAAkBE,IAAA,CAAAvB,SAAA;UAAAuC,KAAA,EAAkB1B,UAAA;UAAAD;QAAA,C;;;;;;;;;;;;;;SAfzCI,E;CAmBJ","ignoreList":[]}