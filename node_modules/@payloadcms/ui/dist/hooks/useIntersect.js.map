{"version":3,"file":"useIntersect.js","names":["c","_c","useEffect","useRef","useState","useIntersect","t0","disable","$","root","t1","rootMargin","t2","threshold","t3","undefined","entry","updateEntry","node","setNode","observer","window","IntersectionObserver","t4","ent","t5","t6","current","currentObserver","disconnect","observe","t7"],"sources":["../../src/hooks/useIntersect.ts"],"sourcesContent":["'use client'\n\nimport type React from 'react'\n\nimport { useEffect, useRef, useState } from 'react'\n\ntype Intersect = [\n  setNode: React.Dispatch<HTMLElement>,\n  entry: IntersectionObserverEntry,\n  node: HTMLElement,\n]\n\nexport const useIntersect = (\n  { root = null, rootMargin = '0px', threshold = 0 } = {},\n  disable?: boolean,\n): Intersect => {\n  const [entry, updateEntry] = useState<IntersectionObserverEntry>()\n  const [node, setNode] = useState(null)\n\n  const observer = useRef(\n    typeof window !== 'undefined' && 'IntersectionObserver' in window && !disable\n      ? new window.IntersectionObserver(([ent]) => updateEntry(ent), {\n          root,\n          rootMargin,\n          threshold,\n        })\n      : null,\n  )\n\n  useEffect(() => {\n    if (disable) {\n      return\n    }\n    const { current: currentObserver } = observer\n    currentObserver.disconnect()\n\n    if (node) {\n      currentObserver.observe(node)\n    }\n\n    return () => currentObserver.disconnect()\n  }, [node, disable])\n\n  return [setNode, entry, node]\n}\n"],"mappings":"AAAA;;AAAA,SAAAA,CAAA,IAAAC,EAAA;AAIA,SAASC,SAAS,EAAEC,MAAM,EAAEC,QAAQ,QAAQ;AAQ5C,OAAO,MAAMC,YAAA,GAAeA,CAAAC,EAAA,EAAAC,OAAA;EAAA,MAAAC,CAAA,GAAAP,EAAA;EAC1B;IAAAQ,IAAA,EAAAC,EAAA;IAAAC,UAAA,EAAAC,EAAA;IAAAC,SAAA,EAAAC;EAAA,IAAAR,EAAuD,KAAAS,SAAA,QAAvDT,EAAuD;EAArD,MAAAG,IAAA,GAAAC,EAAW,KAAAK,SAAA,UAAXL,EAAW;EAAE,MAAAC,UAAA,GAAAC,EAAkB,KAAAG,SAAA,GAAL,KAAK,GAAlBH,EAAkB;EAAE,MAAAC,SAAA,GAAAC,EAAa,KAAAC,SAAA,OAAbD,EAAa;EAGhD,OAAAE,KAAA,EAAAC,WAAA,IAA6Bb,QAAA;EAC7B,OAAAc,IAAA,EAAAC,OAAA,IAAwBf,QAAA,KAAS;EAEjC,MAAAgB,QAAA,GAAiBjB,MAAA,CACf,OAAAkB,MAAA,KAAkB,eAAe,0BAAAA,MAA0B,KAAWd,OAAA,OAAAc,MAAA,CAAAC,oBAAA,CAAAC,EAAA;IACjC,OAAAC,GAAA,IAAAD,EAAK;IAAA,OAAKN,WAAA,CAAYO,GAAA;EAAA;IAAAf,IAAA;IAAAE,UAAA;IAAAE;EAAA,SAKvD;EAAA,IAAAY,EAAA;EAAA,IAAAC,EAAA;EAAA,IAAAlB,CAAA,QAAAD,OAAA,IAAAC,CAAA,QAAAU,IAAA;IAGIO,EAAA,GAAAA,CAAA;MAAA,IACJlB,OAAA;QAAA;MAAA;MAGJ;QAAAoB,OAAA,EAAAC;MAAA,IAAqCR,QAAA;MACrCQ,eAAA,CAAAC,UAAA,CAA0B;MAAA,IAEtBX,IAAA;QACFU,eAAA,CAAAE,OAAA,CAAwBZ,IAAA;MAAA;MAAA,aAGbU,eAAA,CAAAC,UAAA,CAA0B;IAAA;IACtCH,EAAA,IAACR,IAAA,EAAMX,OAAA;IAAQC,CAAA,MAAAD,OAAA;IAAAC,CAAA,MAAAU,IAAA;IAAAV,CAAA,MAAAiB,EAAA;IAAAjB,CAAA,MAAAkB,EAAA;EAAA;IAAAD,EAAA,GAAAjB,CAAA;IAAAkB,EAAA,GAAAlB,CAAA;EAAA;EAZlBN,SAAA,CAAUuB,EAYV,EAAGC,EAAe;EAAA,IAAAK,EAAA;EAAA,IAAAvB,CAAA,QAAAQ,KAAA,IAAAR,CAAA,QAAAU,IAAA,IAAAV,CAAA,QAAAW,OAAA;IAEXY,EAAA,IAACZ,OAAA,EAASH,KAAA,EAAOE,IAAA;IAAKV,CAAA,MAAAQ,KAAA;IAAAR,CAAA,MAAAU,IAAA;IAAAV,CAAA,MAAAW,OAAA;IAAAX,CAAA,MAAAuB,EAAA;EAAA;IAAAA,EAAA,GAAAvB,CAAA;EAAA;EAAA,OAAtBuB,EAAsB;AAAA,CAC/B","ignoreList":[]}