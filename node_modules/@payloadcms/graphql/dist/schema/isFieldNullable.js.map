{"version":3,"sources":["../../src/schema/isFieldNullable.ts"],"sourcesContent":["import type { FieldAffectingData } from 'payload'\n\nimport { fieldAffectsData } from 'payload/shared'\n\nexport const isFieldNullable = ({\n  field,\n  forceNullable,\n  parentIsLocalized,\n}: {\n  field: FieldAffectingData\n  forceNullable: boolean\n  parentIsLocalized: boolean\n}): boolean => {\n  const hasReadAccessControl = field.access && field.access.read\n  const condition = field.admin && field.admin.condition\n  return !(\n    forceNullable &&\n    fieldAffectsData(field) &&\n    'required' in field &&\n    field.required &&\n    (!field.localized || parentIsLocalized) &&\n    !condition &&\n    !hasReadAccessControl\n  )\n}\n"],"names":["fieldAffectsData","isFieldNullable","field","forceNullable","parentIsLocalized","hasReadAccessControl","access","read","condition","admin","required","localized"],"mappings":"AAEA,SAASA,gBAAgB,QAAQ,iBAAgB;AAEjD,OAAO,MAAMC,kBAAkB,CAAC,EAC9BC,KAAK,EACLC,aAAa,EACbC,iBAAiB,EAKlB;IACC,MAAMC,uBAAuBH,MAAMI,MAAM,IAAIJ,MAAMI,MAAM,CAACC,IAAI;IAC9D,MAAMC,YAAYN,MAAMO,KAAK,IAAIP,MAAMO,KAAK,CAACD,SAAS;IACtD,OAAO,CACLL,CAAAA,iBACAH,iBAAiBE,UACjB,cAAcA,SACdA,MAAMQ,QAAQ,IACb,CAAA,CAACR,MAAMS,SAAS,IAAIP,iBAAgB,KACrC,CAACI,aACD,CAACH,oBAAmB;AAExB,EAAC"}