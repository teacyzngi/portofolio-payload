{"version":3,"file":"index.js","names":["c","_c","getTranslation","useTranslation","React","useSelectedLocales","DiffCollapser","RenderVersionFieldsToDiff","baseClass","Tabs","props","$","baseVersionField","comparisonValue","valueFrom","field","versionValue","valueTo","selectedLocales","t0","tabs","t1","tab","i","fields","length","fieldTab","_jsx","className","children","localized","map","locale","index","localizedTabProps","name","Tab","join","namedTabProps","parentIsLocalized","i18n","Label","label","_jsxs","versionFields"],"sources":["../../../../../../src/views/Version/RenderFieldsToDiff/fields/Tabs/index.tsx"],"sourcesContent":["'use client'\nimport type {\n  ClientTab,\n  FieldDiffClientProps,\n  TabsFieldClient,\n  TabsFieldDiffClientComponent,\n  VersionTab,\n} from 'payload'\n\nimport { getTranslation } from '@payloadcms/translations'\nimport { useTranslation } from '@payloadcms/ui'\nimport React from 'react'\n\nimport './index.scss'\nimport { useSelectedLocales } from '../../../Default/SelectedLocalesContext.js'\nimport { DiffCollapser } from '../../DiffCollapser/index.js'\nimport { RenderVersionFieldsToDiff } from '../../RenderVersionFieldsToDiff.js'\n\nconst baseClass = 'tabs-diff'\n\nexport const Tabs: TabsFieldDiffClientComponent = (props) => {\n  const { baseVersionField, comparisonValue: valueFrom, field, versionValue: valueTo } = props\n  const { selectedLocales } = useSelectedLocales()\n\n  return (\n    <div className={baseClass}>\n      {baseVersionField.tabs.map((tab, i) => {\n        if (!tab?.fields?.length) {\n          return null\n        }\n        const fieldTab = field.tabs?.[i]\n        return (\n          <div className={`${baseClass}__tab`} key={i}>\n            {(() => {\n              if ('name' in fieldTab && selectedLocales && fieldTab.localized) {\n                // Named localized tab\n                return selectedLocales.map((locale, index) => {\n                  const localizedTabProps: TabProps = {\n                    ...props,\n                    comparisonValue: valueFrom?.[tab.name]?.[locale],\n                    fieldTab,\n                    locale,\n                    tab,\n                    versionValue: valueTo?.[tab.name]?.[locale],\n                  }\n                  return (\n                    <div className={`${baseClass}__tab-locale`} key={[locale, index].join('-')}>\n                      <div className={`${baseClass}__tab-locale-value`}>\n                        <Tab key={locale} {...localizedTabProps} />\n                      </div>\n                    </div>\n                  )\n                })\n              } else if ('name' in tab && tab.name) {\n                // Named tab\n                const namedTabProps: TabProps = {\n                  ...props,\n                  comparisonValue: valueFrom?.[tab.name],\n                  fieldTab,\n                  tab,\n                  versionValue: valueTo?.[tab.name],\n                }\n                return <Tab key={i} {...namedTabProps} />\n              } else {\n                // Unnamed tab\n                return <Tab fieldTab={fieldTab} key={i} {...props} tab={tab} />\n              }\n            })()}\n          </div>\n        )\n      })}\n    </div>\n  )\n}\n\ntype TabProps = {\n  fieldTab: ClientTab\n  tab: VersionTab\n} & FieldDiffClientProps<TabsFieldClient>\n\nconst Tab: React.FC<TabProps> = ({\n  comparisonValue: valueFrom,\n  fieldTab,\n  locale,\n  parentIsLocalized,\n  tab,\n  versionValue: valueTo,\n}) => {\n  const { i18n } = useTranslation()\n  const { selectedLocales } = useSelectedLocales()\n\n  if (!tab.fields?.length) {\n    return null\n  }\n\n  return (\n    <DiffCollapser\n      fields={fieldTab.fields}\n      Label={\n        'label' in tab &&\n        tab.label &&\n        typeof tab.label !== 'function' && (\n          <span>\n            {locale && <span className={`${baseClass}__locale-label`}>{locale}</span>}\n            {getTranslation(tab.label, i18n)}\n          </span>\n        )\n      }\n      locales={selectedLocales}\n      parentIsLocalized={parentIsLocalized || fieldTab.localized}\n      valueFrom={valueFrom}\n      valueTo={valueTo}\n    >\n      <RenderVersionFieldsToDiff versionFields={tab.fields} />\n    </DiffCollapser>\n  )\n}\n"],"mappings":"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","ignoreList":[]}