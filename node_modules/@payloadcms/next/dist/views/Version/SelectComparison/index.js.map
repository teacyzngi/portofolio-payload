{"version":3,"file":"index.js","names":["fieldBaseClass","ReactSelect","useTranslation","React","memo","useCallback","useMemo","useVersionDrawer","baseClass","SelectComparison","props","collectionSlug","docID","globalSlug","onChange","onChangeFromProps","versionFromID","versionFromOptions","t","Drawer","openDrawer","options","label","_jsx","className","value","currentOption","find","option","val","_jsxs","filter","Boolean","join","isClearable","isSearchable","placeholder"],"sources":["../../../../src/views/Version/SelectComparison/index.tsx"],"sourcesContent":["'use client'\n\nimport { fieldBaseClass, ReactSelect, useTranslation } from '@payloadcms/ui'\nimport React, { memo, useCallback, useMemo } from 'react'\n\nimport type { CompareOption } from '../Default/types.js'\n\nimport './index.scss'\n\nimport type { Props } from './types.js'\n\nimport { useVersionDrawer } from './VersionDrawer/index.js'\n\nconst baseClass = 'compare-version'\n\nexport const SelectComparison: React.FC<Props> = memo((props) => {\n  const {\n    collectionSlug,\n    docID,\n    globalSlug,\n    onChange: onChangeFromProps,\n    versionFromID,\n    versionFromOptions,\n  } = props\n  const { t } = useTranslation()\n\n  const { Drawer, openDrawer } = useVersionDrawer({ collectionSlug, docID, globalSlug })\n\n  const options = useMemo(() => {\n    return [\n      ...versionFromOptions,\n      {\n        label: <span className={`${baseClass}-moreVersions`}>{t('version:moreVersions')}</span>,\n        value: 'more',\n      },\n    ]\n  }, [t, versionFromOptions])\n\n  const currentOption = useMemo(\n    () => versionFromOptions.find((option) => option.value === versionFromID),\n    [versionFromOptions, versionFromID],\n  )\n\n  const onChange = useCallback(\n    (val: CompareOption) => {\n      if (val.value === 'more') {\n        openDrawer()\n        return\n      }\n      onChangeFromProps(val)\n    },\n    [onChangeFromProps, openDrawer],\n  )\n\n  return (\n    <div className={[fieldBaseClass, baseClass].filter(Boolean).join(' ')}>\n      <ReactSelect\n        isClearable={false}\n        isSearchable={false}\n        onChange={onChange}\n        options={options}\n        placeholder={t('version:selectVersionToCompare')}\n        value={currentOption}\n      />\n      <Drawer />\n    </div>\n  )\n})\n"],"mappings":"AAAA;;;AAEA,SAASA,cAAc,EAAEC,WAAW,EAAEC,cAAc,QAAQ;AAC5D,OAAOC,KAAA,IAASC,IAAI,EAAEC,WAAW,EAAEC,OAAO,QAAQ;AAQlD,SAASC,gBAAgB,QAAQ;AAEjC,MAAMC,SAAA,GAAY;AAElB,OAAO,MAAMC,gBAAA,gBAAoCL,IAAA,CAAMM,KAAA;EACrD,MAAM;IACJC,cAAc;IACdC,KAAK;IACLC,UAAU;IACVC,QAAA,EAAUC,iBAAiB;IAC3BC,aAAa;IACbC;EAAkB,CACnB,GAAGP,KAAA;EACJ,MAAM;IAAEQ;EAAC,CAAE,GAAGhB,cAAA;EAEd,MAAM;IAAEiB,MAAM;IAAEC;EAAU,CAAE,GAAGb,gBAAA,CAAiB;IAAEI,cAAA;IAAgBC,KAAA;IAAOC;EAAW;EAEpF,MAAMQ,OAAA,GAAUf,OAAA,CAAQ;IACtB,OAAO,C,GACFW,kBAAA,EACH;MACEK,KAAA,eAAOC,IAAA,CAAC;QAAKC,SAAA,EAAW,GAAGhB,SAAA,eAAwB;kBAAGU,CAAA,CAAE;;MACxDO,KAAA,EAAO;IACT,EACD;EACH,GAAG,CAACP,CAAA,EAAGD,kBAAA,CAAmB;EAE1B,MAAMS,aAAA,GAAgBpB,OAAA,CACpB,MAAMW,kBAAA,CAAmBU,IAAI,CAAEC,MAAA,IAAWA,MAAA,CAAOH,KAAK,KAAKT,aAAA,GAC3D,CAACC,kBAAA,EAAoBD,aAAA,CAAc;EAGrC,MAAMF,QAAA,GAAWT,WAAA,CACdwB,GAAA;IACC,IAAIA,GAAA,CAAIJ,KAAK,KAAK,QAAQ;MACxBL,UAAA;MACA;IACF;IACAL,iBAAA,CAAkBc,GAAA;EACpB,GACA,CAACd,iBAAA,EAAmBK,UAAA,CAAW;EAGjC,oBACEU,KAAA,CAAC;IAAIN,SAAA,EAAW,CAACxB,cAAA,EAAgBQ,SAAA,CAAU,CAACuB,MAAM,CAACC,OAAA,EAASC,IAAI,CAAC;4BAC/DV,IAAA,CAACtB,WAAA;MACCiC,WAAA,EAAa;MACbC,YAAA,EAAc;MACdrB,QAAA,EAAUA,QAAA;MACVO,OAAA,EAASA,OAAA;MACTe,WAAA,EAAalB,CAAA,CAAE;MACfO,KAAA,EAAOC;qBAETH,IAAA,CAACJ,MAAA;;AAGP","ignoreList":[]}