{"version":3,"file":"VersionPillLabel.js","names":["c","_c","Pill","useConfig","useTranslation","formatDate","React","getVersionLabel","baseClass","renderPill","label","pillStyle","_jsx","size","VersionPillLabel","t0","$","currentlyPublishedVersion","disableDate","t1","doc","labelFirst","t2","labelOverride","labelStyle","t3","labelSuffix","latestDraftVersion","undefined","config","t4","admin","t5","localization","dateFormat","i18n","t","t6","version","labelText","_jsxs","children","showDate","updatedAt","formattedDate","date","pattern","localeCode","Array","isArray","publishedLocale","locale","locales","find","loc","code","localeLabel","language","className","Fragment"],"sources":["../../../../src/views/Version/VersionPillLabel/VersionPillLabel.tsx"],"sourcesContent":["'use client'\n\nimport { Pill, useConfig, useTranslation } from '@payloadcms/ui'\nimport { formatDate } from '@payloadcms/ui/shared'\nimport React from 'react'\n\nimport './index.scss'\nimport { getVersionLabel } from './getVersionLabel.js'\n\nconst baseClass = 'version-pill-label'\n\nconst renderPill = (label: React.ReactNode, pillStyle: Parameters<typeof Pill>[0]['pillStyle']) => {\n  return (\n    <Pill pillStyle={pillStyle} size=\"small\">\n      {label}\n    </Pill>\n  )\n}\n\nexport const VersionPillLabel: React.FC<{\n  currentlyPublishedVersion?: {\n    id: number | string\n    updatedAt: string\n  }\n  disableDate?: boolean\n\n  doc: {\n    [key: string]: unknown\n    id: number | string\n    publishedLocale?: string\n    updatedAt?: string\n    version: {\n      [key: string]: unknown\n      _status: string\n    }\n  }\n  /**\n   * By default, the date is displayed first, followed by the version label.\n   * @default false\n   */\n  labelFirst?: boolean\n  labelOverride?: React.ReactNode\n  /**\n   * @default 'pill'\n   */\n  labelStyle?: 'pill' | 'text'\n  labelSuffix?: React.ReactNode\n  latestDraftVersion?: {\n    id: number | string\n    updatedAt: string\n  }\n}> = ({\n  currentlyPublishedVersion,\n  disableDate = false,\n  doc,\n  labelFirst = false,\n  labelOverride,\n  labelStyle = 'pill',\n  labelSuffix,\n  latestDraftVersion,\n}) => {\n  const {\n    config: {\n      admin: { dateFormat },\n      localization,\n    },\n  } = useConfig()\n  const { i18n, t } = useTranslation()\n\n  const { label, pillStyle } = getVersionLabel({\n    currentlyPublishedVersion,\n    latestDraftVersion,\n    t,\n    version: doc,\n  })\n  const labelText: React.ReactNode = (\n    <span>\n      {labelOverride || label}\n      {labelSuffix}\n    </span>\n  )\n\n  const showDate = !disableDate && doc.updatedAt\n  const formattedDate = showDate\n    ? formatDate({ date: doc.updatedAt, i18n, pattern: dateFormat })\n    : null\n\n  const localeCode = Array.isArray(doc.publishedLocale)\n    ? doc.publishedLocale[0]\n    : doc.publishedLocale\n\n  const locale =\n    localization && localization?.locales\n      ? localization.locales.find((loc) => loc.code === localeCode)\n      : null\n  const localeLabel = locale ? locale?.label?.[i18n?.language] || locale?.label : null\n\n  return (\n    <div className={baseClass}>\n      {labelFirst ? (\n        <React.Fragment>\n          {labelStyle === 'pill' ? (\n            renderPill(labelText, pillStyle)\n          ) : (\n            <span className={`${baseClass}-text`}>{labelText}</span>\n          )}\n          {showDate && <span className={`${baseClass}-date`}>{formattedDate}</span>}\n        </React.Fragment>\n      ) : (\n        <React.Fragment>\n          {showDate && <span className={`${baseClass}-date`}>{formattedDate}</span>}\n          {labelStyle === 'pill' ? (\n            renderPill(labelText, pillStyle)\n          ) : (\n            <span className={`${baseClass}-text`}>{labelText}</span>\n          )}\n        </React.Fragment>\n      )}\n      {localeLabel && <Pill size=\"small\">{localeLabel}</Pill>}\n    </div>\n  )\n}\n"],"mappings":"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","ignoreList":[]}