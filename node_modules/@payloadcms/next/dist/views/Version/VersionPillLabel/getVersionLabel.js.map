{"version":3,"file":"getVersionLabel.js","names":["getVersionLabel","currentlyPublishedVersion","latestDraftVersion","t","version","publishedNewerThanDraft","updatedAt","_status","name","label","pillStyle","id","isCurrentlyPublished"],"sources":["../../../../src/views/Version/VersionPillLabel/getVersionLabel.ts"],"sourcesContent":["import type { TFunction } from '@payloadcms/translations'\nimport type { Pill } from '@payloadcms/ui'\n\ntype Args = {\n  currentlyPublishedVersion?: {\n    id: number | string\n    updatedAt: string\n  }\n  latestDraftVersion?: {\n    id: number | string\n    updatedAt: string\n  }\n  t: TFunction\n  version: {\n    id: number | string\n    version: { _status?: string }\n  }\n}\n\n/**\n * Gets the appropriate version label and version pill styling\n * given existing versions and the current version status.\n */\nexport function getVersionLabel({\n  currentlyPublishedVersion,\n  latestDraftVersion,\n  t,\n  version,\n}: Args): {\n  label: string\n  name: 'currentDraft' | 'currentlyPublished' | 'draft' | 'previouslyPublished' | 'published'\n  pillStyle: Parameters<typeof Pill>[0]['pillStyle']\n} {\n  const publishedNewerThanDraft =\n    currentlyPublishedVersion?.updatedAt > latestDraftVersion?.updatedAt\n\n  if (version.version._status === 'draft') {\n    if (publishedNewerThanDraft) {\n      return {\n        name: 'draft',\n        label: t('version:draft'),\n        pillStyle: 'light',\n      }\n    } else {\n      return {\n        name: version.id === latestDraftVersion?.id ? 'currentDraft' : 'draft',\n        label:\n          version.id === latestDraftVersion?.id ? t('version:currentDraft') : t('version:draft'),\n        pillStyle: 'light',\n      }\n    }\n  } else {\n    const isCurrentlyPublished = version.id === currentlyPublishedVersion?.id\n    return {\n      name: isCurrentlyPublished ? 'currentlyPublished' : 'previouslyPublished',\n      label: isCurrentlyPublished\n        ? t('version:currentlyPublished')\n        : t('version:previouslyPublished'),\n      pillStyle: isCurrentlyPublished ? 'success' : 'light',\n    }\n  }\n}\n"],"mappings":"AAmBA;;;GAIA,OAAO,SAASA,gBAAgB;EAC9BC,yBAAyB;EACzBC,kBAAkB;EAClBC,CAAC;EACDC;AAAO,CACF;EAKL,MAAMC,uBAAA,GACJJ,yBAAA,EAA2BK,SAAA,GAAYJ,kBAAA,EAAoBI,SAAA;EAE7D,IAAIF,OAAA,CAAQA,OAAO,CAACG,OAAO,KAAK,SAAS;IACvC,IAAIF,uBAAA,EAAyB;MAC3B,OAAO;QACLG,IAAA,EAAM;QACNC,KAAA,EAAON,CAAA,CAAE;QACTO,SAAA,EAAW;MACb;IACF,OAAO;MACL,OAAO;QACLF,IAAA,EAAMJ,OAAA,CAAQO,EAAE,KAAKT,kBAAA,EAAoBS,EAAA,GAAK,iBAAiB;QAC/DF,KAAA,EACEL,OAAA,CAAQO,EAAE,KAAKT,kBAAA,EAAoBS,EAAA,GAAKR,CAAA,CAAE,0BAA0BA,CAAA,CAAE;QACxEO,SAAA,EAAW;MACb;IACF;EACF,OAAO;IACL,MAAME,oBAAA,GAAuBR,OAAA,CAAQO,EAAE,KAAKV,yBAAA,EAA2BU,EAAA;IACvE,OAAO;MACLH,IAAA,EAAMI,oBAAA,GAAuB,uBAAuB;MACpDH,KAAA,EAAOG,oBAAA,GACHT,CAAA,CAAE,gCACFA,CAAA,CAAE;MACNO,SAAA,EAAWE,oBAAA,GAAuB,YAAY;IAChD;EACF;AACF","ignoreList":[]}