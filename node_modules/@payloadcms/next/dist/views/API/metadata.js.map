{"version":3,"file":"metadata.js","names":["getTranslation","generateMetadata","generateAPIViewMetadata","collectionConfig","config","globalConfig","i18n","entityLabel","labels","singular","label","Promise","resolve","admin","meta","description","keywords","serverURL","title","components","views","edit","api"],"sources":["../../../src/views/API/metadata.ts"],"sourcesContent":["import type { MetaConfig } from 'payload'\n\nimport { getTranslation } from '@payloadcms/translations'\n\nimport type { GenerateEditViewMetadata } from '../Document/getMetaBySegment.js'\n\nimport { generateMetadata } from '../../utilities/meta.js'\n\n/**\n * @todo Remove the `MetaConfig` type assertions. They are currently required because of how the `Metadata` type from `next` consumes the `URL` type.\n */\nexport const generateAPIViewMetadata: GenerateEditViewMetadata = async ({\n  collectionConfig,\n  config,\n  globalConfig,\n  i18n,\n}) => {\n  const entityLabel = collectionConfig\n    ? getTranslation(collectionConfig.labels.singular, i18n)\n    : globalConfig\n      ? getTranslation(globalConfig.label, i18n)\n      : ''\n\n  return Promise.resolve(\n    generateMetadata({\n      ...(config.admin.meta || {}),\n      description: `API - ${entityLabel}`,\n      keywords: 'API',\n      serverURL: config.serverURL,\n      title: `API - ${entityLabel}`,\n      ...((collectionConfig\n        ? {\n            ...(collectionConfig?.admin.meta || {}),\n            ...(collectionConfig?.admin?.components?.views?.edit?.api?.meta || {}),\n          }\n        : {}) as MetaConfig),\n      ...((globalConfig\n        ? {\n            ...(globalConfig?.admin.meta || {}),\n            ...(globalConfig?.admin?.components?.views?.edit?.api?.meta || {}),\n          }\n        : {}) as MetaConfig),\n    }),\n  )\n}\n"],"mappings":"AAEA,SAASA,cAAc,QAAQ;AAI/B,SAASC,gBAAgB,QAAQ;AAEjC;;;AAGA,OAAO,MAAMC,uBAAA,GAAoD,MAAAA,CAAO;EACtEC,gBAAgB;EAChBC,MAAM;EACNC,YAAY;EACZC;AAAI,CACL;EACC,MAAMC,WAAA,GAAcJ,gBAAA,GAChBH,cAAA,CAAeG,gBAAA,CAAiBK,MAAM,CAACC,QAAQ,EAAEH,IAAA,IACjDD,YAAA,GACEL,cAAA,CAAeK,YAAA,CAAaK,KAAK,EAAEJ,IAAA,IACnC;EAEN,OAAOK,OAAA,CAAQC,OAAO,CACpBX,gBAAA,CAAiB;IACf,IAAIG,MAAA,CAAOS,KAAK,CAACC,IAAI,IAAI,CAAC,CAAC;IAC3BC,WAAA,EAAa,SAASR,WAAA,EAAa;IACnCS,QAAA,EAAU;IACVC,SAAA,EAAWb,MAAA,CAAOa,SAAS;IAC3BC,KAAA,EAAO,SAASX,WAAA,EAAa;IAC7B,IAAKJ,gBAAA,GACD;MACE,IAAIA,gBAAA,EAAkBU,KAAA,CAAMC,IAAA,IAAQ,CAAC,CAAC;MACtC,IAAIX,gBAAA,EAAkBU,KAAA,EAAOM,UAAA,EAAYC,KAAA,EAAOC,IAAA,EAAMC,GAAA,EAAKR,IAAA,IAAQ,CAAC,CAAC;IACvE,IACA,CAAC,CAAC;IACN,IAAKT,YAAA,GACD;MACE,IAAIA,YAAA,EAAcQ,KAAA,CAAMC,IAAA,IAAQ,CAAC,CAAC;MAClC,IAAIT,YAAA,EAAcQ,KAAA,EAAOM,UAAA,EAAYC,KAAA,EAAOC,IAAA,EAAMC,GAAA,EAAKR,IAAA,IAAQ,CAAC,CAAC;IACnE,IACA,CAAC,CAAC;EACR;AAEJ","ignoreList":[]}