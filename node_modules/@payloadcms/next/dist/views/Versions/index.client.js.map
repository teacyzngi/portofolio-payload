{"version":3,"file":"index.client.js","names":["c","_c","LoadingOverlayToggle","Pagination","PerPage","Table","useListQuery","useTranslation","useSearchParams","React","VersionsViewClient","props","$","baseClass","columns","paginationLimits","data","handlePageChange","handlePerPageChange","searchParams","t0","get","limit","i18n","versionCount","totalDocs","t1","t2","_jsxs","Fragment","children","_jsx","name","show","className","t","docs","hasNextPage","hasPrevPage","nextPage","numberOfNeighbors","onChange","page","prevPage","totalPages","handleChange","Number","limits"],"sources":["../../../src/views/Versions/index.client.tsx"],"sourcesContent":["'use client'\nimport type { Column, SanitizedCollectionConfig } from 'payload'\n\nimport {\n  LoadingOverlayToggle,\n  Pagination,\n  PerPage,\n  Table,\n  useListQuery,\n  useTranslation,\n} from '@payloadcms/ui'\nimport { useSearchParams } from 'next/navigation.js'\nimport React from 'react'\n\nexport const VersionsViewClient: React.FC<{\n  readonly baseClass: string\n  readonly columns: Column[]\n  readonly fetchURL: string\n  readonly paginationLimits?: SanitizedCollectionConfig['admin']['pagination']['limits']\n}> = (props) => {\n  const { baseClass, columns, paginationLimits } = props\n\n  const { data, handlePageChange, handlePerPageChange } = useListQuery()\n\n  const searchParams = useSearchParams()\n  const limit = searchParams.get('limit')\n\n  const { i18n } = useTranslation()\n\n  const versionCount = data?.totalDocs || 0\n\n  return (\n    <React.Fragment>\n      <LoadingOverlayToggle name=\"versions\" show={!data} />\n      {versionCount === 0 && (\n        <div className={`${baseClass}__no-versions`}>\n          {i18n.t('version:noFurtherVersionsFound')}\n        </div>\n      )}\n      {versionCount > 0 && (\n        <React.Fragment>\n          <Table columns={columns} data={data?.docs} />\n          <div className={`${baseClass}__page-controls`}>\n            <Pagination\n              hasNextPage={data.hasNextPage}\n              hasPrevPage={data.hasPrevPage}\n              limit={data.limit}\n              nextPage={data.nextPage}\n              numberOfNeighbors={1}\n              onChange={handlePageChange}\n              page={data.page}\n              prevPage={data.prevPage}\n              totalPages={data.totalPages}\n            />\n            {data?.totalDocs > 0 && (\n              <React.Fragment>\n                <div className={`${baseClass}__page-info`}>\n                  {data.page * data.limit - (data.limit - 1)}-\n                  {data.totalPages > 1 && data.totalPages !== data.page\n                    ? data.limit * data.page\n                    : data.totalDocs}{' '}\n                  {i18n.t('general:of')} {data.totalDocs}\n                </div>\n                <PerPage\n                  handleChange={handlePerPageChange}\n                  limit={limit ? Number(limit) : 10}\n                  limits={paginationLimits}\n                />\n              </React.Fragment>\n            )}\n          </div>\n        </React.Fragment>\n      )}\n    </React.Fragment>\n  )\n}\n"],"mappings":"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","ignoreList":[]}