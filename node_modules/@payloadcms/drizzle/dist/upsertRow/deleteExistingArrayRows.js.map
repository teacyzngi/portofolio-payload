{"version":3,"sources":["../../src/upsertRow/deleteExistingArrayRows.ts"],"sourcesContent":["import { and, eq } from 'drizzle-orm'\n\nimport type { DrizzleAdapter, DrizzleTransaction } from '../types.js'\n\ntype Args = {\n  adapter: DrizzleAdapter\n  db: DrizzleAdapter['drizzle'] | DrizzleTransaction\n  parentID: unknown\n  tableName: string\n}\n\nexport const deleteExistingArrayRows = async ({\n  adapter,\n  db,\n  parentID,\n  tableName,\n}: Args): Promise<void> => {\n  const table = adapter.tables[tableName]\n\n  const whereConstraints = [eq(table._parentID, parentID)]\n\n  await adapter.deleteWhere({\n    db,\n    tableName,\n    where: and(...whereConstraints),\n  })\n}\n"],"names":["and","eq","deleteExistingArrayRows","adapter","db","parentID","tableName","table","tables","whereConstraints","_parentID","deleteWhere","where"],"mappings":"AAAA,SAASA,GAAG,EAAEC,EAAE,QAAQ,cAAa;AAWrC,OAAO,MAAMC,0BAA0B,OAAO,EAC5CC,OAAO,EACPC,EAAE,EACFC,QAAQ,EACRC,SAAS,EACJ;IACL,MAAMC,QAAQJ,QAAQK,MAAM,CAACF,UAAU;IAEvC,MAAMG,mBAAmB;QAACR,GAAGM,MAAMG,SAAS,EAAEL;KAAU;IAExD,MAAMF,QAAQQ,WAAW,CAAC;QACxBP;QACAE;QACAM,OAAOZ,OAAOS;IAChB;AACF,EAAC"}