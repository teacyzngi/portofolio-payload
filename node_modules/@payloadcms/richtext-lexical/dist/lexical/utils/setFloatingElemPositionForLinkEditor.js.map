{"version":3,"file":"setFloatingElemPositionForLinkEditor.js","names":["VERTICAL_GAP","HORIZONTAL_OFFSET","setFloatingElemPositionForLinkEditor","targetRect","floatingElem","anchorElem","verticalGap","horizontalOffset","scrollerElem","parentElement","style","opacity","transform","floatingElemRect","getBoundingClientRect","anchorElementRect","editorScrollerRect","top","left","height","width","right"],"sources":["../../../src/lexical/utils/setFloatingElemPositionForLinkEditor.ts"],"sourcesContent":["'use client'\nconst VERTICAL_GAP = 10\nconst HORIZONTAL_OFFSET = 5\n\nexport function setFloatingElemPositionForLinkEditor(\n  targetRect: DOMRect | null,\n  floatingElem: HTMLElement,\n  anchorElem: HTMLElement,\n  verticalGap: number = VERTICAL_GAP,\n  horizontalOffset: number = HORIZONTAL_OFFSET,\n): void {\n  const scrollerElem = anchorElem.parentElement\n\n  if (targetRect === null || scrollerElem == null) {\n    floatingElem.style.opacity = '0'\n    floatingElem.style.transform = 'translate(-10000px, -10000px)'\n    return\n  }\n\n  const floatingElemRect = floatingElem.getBoundingClientRect()\n  const anchorElementRect = anchorElem.getBoundingClientRect()\n  const editorScrollerRect = scrollerElem.getBoundingClientRect()\n\n  let top = targetRect.top - verticalGap\n  let left = targetRect.left - horizontalOffset\n\n  if (top < editorScrollerRect.top) {\n    top += floatingElemRect.height + targetRect.height + verticalGap * 2\n  }\n\n  if (left + floatingElemRect.width > editorScrollerRect.right) {\n    left = editorScrollerRect.right - floatingElemRect.width - horizontalOffset\n  }\n\n  top -= anchorElementRect.top\n  left -= anchorElementRect.left\n\n  floatingElem.style.opacity = '1'\n  floatingElem.style.transform = `translate(${left}px, ${top}px)`\n}\n"],"mappings":"AAAA;;AACA,MAAMA,YAAA,GAAe;AACrB,MAAMC,iBAAA,GAAoB;AAE1B,OAAO,SAASC,qCACdC,UAA0B,EAC1BC,YAAyB,EACzBC,UAAuB,EACvBC,WAAA,GAAsBN,YAAY,EAClCO,gBAAA,GAA2BN,iBAAiB;EAE5C,MAAMO,YAAA,GAAeH,UAAA,CAAWI,aAAa;EAE7C,IAAIN,UAAA,KAAe,QAAQK,YAAA,IAAgB,MAAM;IAC/CJ,YAAA,CAAaM,KAAK,CAACC,OAAO,GAAG;IAC7BP,YAAA,CAAaM,KAAK,CAACE,SAAS,GAAG;IAC/B;EACF;EAEA,MAAMC,gBAAA,GAAmBT,YAAA,CAAaU,qBAAqB;EAC3D,MAAMC,iBAAA,GAAoBV,UAAA,CAAWS,qBAAqB;EAC1D,MAAME,kBAAA,GAAqBR,YAAA,CAAaM,qBAAqB;EAE7D,IAAIG,GAAA,GAAMd,UAAA,CAAWc,GAAG,GAAGX,WAAA;EAC3B,IAAIY,IAAA,GAAOf,UAAA,CAAWe,IAAI,GAAGX,gBAAA;EAE7B,IAAIU,GAAA,GAAMD,kBAAA,CAAmBC,GAAG,EAAE;IAChCA,GAAA,IAAOJ,gBAAA,CAAiBM,MAAM,GAAGhB,UAAA,CAAWgB,MAAM,GAAGb,WAAA,GAAc;EACrE;EAEA,IAAIY,IAAA,GAAOL,gBAAA,CAAiBO,KAAK,GAAGJ,kBAAA,CAAmBK,KAAK,EAAE;IAC5DH,IAAA,GAAOF,kBAAA,CAAmBK,KAAK,GAAGR,gBAAA,CAAiBO,KAAK,GAAGb,gBAAA;EAC7D;EAEAU,GAAA,IAAOF,iBAAA,CAAkBE,GAAG;EAC5BC,IAAA,IAAQH,iBAAA,CAAkBG,IAAI;EAE9Bd,YAAA,CAAaM,KAAK,CAACC,OAAO,GAAG;EAC7BP,YAAA,CAAaM,KAAK,CAACE,SAAS,GAAG,aAAaM,IAAA,OAAWD,GAAA,KAAQ;AACjE","ignoreList":[]}