{"version":3,"file":"getDOMRangeRect.js","names":["getDOMRangeRect","nativeSelection","rootElement","domRange","getRangeAt","rect","anchorNode","inner","firstElementChild","getBoundingClientRect"],"sources":["../../../src/lexical/utils/getDOMRangeRect.ts"],"sourcesContent":["'use client'\nexport function getDOMRangeRect(nativeSelection: Selection, rootElement: HTMLElement): DOMRect {\n  const domRange = nativeSelection.getRangeAt(0)\n\n  let rect\n\n  if (nativeSelection.anchorNode === rootElement) {\n    let inner = rootElement\n    while (inner.firstElementChild != null) {\n      inner = inner.firstElementChild as HTMLElement\n    }\n    rect = inner.getBoundingClientRect()\n  } else {\n    rect = domRange.getBoundingClientRect()\n  }\n\n  return rect\n}\n"],"mappings":"AAAA;;AACA,OAAO,SAASA,gBAAgBC,eAA0B,EAAEC,WAAwB;EAClF,MAAMC,QAAA,GAAWF,eAAA,CAAgBG,UAAU,CAAC;EAE5C,IAAIC,IAAA;EAEJ,IAAIJ,eAAA,CAAgBK,UAAU,KAAKJ,WAAA,EAAa;IAC9C,IAAIK,KAAA,GAAQL,WAAA;IACZ,OAAOK,KAAA,CAAMC,iBAAiB,IAAI,MAAM;MACtCD,KAAA,GAAQA,KAAA,CAAMC,iBAAiB;IACjC;IACAH,IAAA,GAAOE,KAAA,CAAME,qBAAqB;EACpC,OAAO;IACLJ,IAAA,GAAOF,QAAA,CAASM,qBAAqB;EACvC;EAEA,OAAOJ,IAAA;AACT","ignoreList":[]}