{"version":3,"file":"calculateDistanceFromScrollerElem.js","names":["calculateDistanceFromScrollerElem","scrollerElem","pageX","pageY","target","horizontalBuffer","verticalBuffer","distanceFromScrollerElem","contains","bottom","left","right","top","getBoundingClientRect","adjustedTop","window","scrollY","adjustedBottom"],"sources":["../../../../../src/lexical/plugins/handles/utils/calculateDistanceFromScrollerElem.ts"],"sourcesContent":["'use client'\n/**\n * Calculate distance between scrollerElem and target if target is not in scrollerElem\n */\nexport const calculateDistanceFromScrollerElem = (\n  scrollerElem: HTMLElement | null,\n  pageX: number,\n  pageY: number,\n  target: HTMLElement,\n  horizontalBuffer: number = 50,\n  verticalBuffer: number = 25,\n): number => {\n  let distanceFromScrollerElem = 0\n  if (scrollerElem && !scrollerElem.contains(target)) {\n    const { bottom, left, right, top } = scrollerElem.getBoundingClientRect()\n\n    const adjustedTop = top + window.scrollY\n    const adjustedBottom = bottom + window.scrollY\n\n    if (\n      pageY < adjustedTop - verticalBuffer ||\n      pageY > adjustedBottom + verticalBuffer ||\n      pageX < left - horizontalBuffer ||\n      pageX > right + horizontalBuffer\n    ) {\n      return -1\n    }\n\n    // This is used to allow the _draggableBlockElem to be found when the mouse is in the\n    // buffer zone around the scrollerElem.\n    if (pageX < left || pageX > right) {\n      distanceFromScrollerElem = pageX < left ? pageX - left : pageX - right\n    }\n  }\n  return distanceFromScrollerElem\n}\n"],"mappings":"AAAA;;AACA;;;AAGA,OAAO,MAAMA,iCAAA,GAAoCA,CAC/CC,YAAA,EACAC,KAAA,EACAC,KAAA,EACAC,MAAA,EACAC,gBAAA,GAA2B,EAAE,EAC7BC,cAAA,GAAyB,EAAE;EAE3B,IAAIC,wBAAA,GAA2B;EAC/B,IAAIN,YAAA,IAAgB,CAACA,YAAA,CAAaO,QAAQ,CAACJ,MAAA,GAAS;IAClD,MAAM;MAAEK,MAAM;MAAEC,IAAI;MAAEC,KAAK;MAAEC;IAAG,CAAE,GAAGX,YAAA,CAAaY,qBAAqB;IAEvE,MAAMC,WAAA,GAAcF,GAAA,GAAMG,MAAA,CAAOC,OAAO;IACxC,MAAMC,cAAA,GAAiBR,MAAA,GAASM,MAAA,CAAOC,OAAO;IAE9C,IACEb,KAAA,GAAQW,WAAA,GAAcR,cAAA,IACtBH,KAAA,GAAQc,cAAA,GAAiBX,cAAA,IACzBJ,KAAA,GAAQQ,IAAA,GAAOL,gBAAA,IACfH,KAAA,GAAQS,KAAA,GAAQN,gBAAA,EAChB;MACA,OAAO,CAAC;IACV;IAEA;IACA;IACA,IAAIH,KAAA,GAAQQ,IAAA,IAAQR,KAAA,GAAQS,KAAA,EAAO;MACjCJ,wBAAA,GAA2BL,KAAA,GAAQQ,IAAA,GAAOR,KAAA,GAAQQ,IAAA,GAAOR,KAAA,GAAQS,KAAA;IACnE;EACF;EACA,OAAOJ,wBAAA;AACT","ignoreList":[]}