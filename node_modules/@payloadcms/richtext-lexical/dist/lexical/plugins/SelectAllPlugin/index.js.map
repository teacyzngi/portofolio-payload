{"version":3,"file":"index.js","names":["useLexicalComposerContext","$getSelection","COMMAND_PRIORITY_LOW","SELECT_ALL_COMMAND","useEffect","SelectAllPlugin","editor","registerCommand","selection","activeElement","document","HTMLInputElement","select"],"sources":["../../../../src/lexical/plugins/SelectAllPlugin/index.tsx"],"sourcesContent":["import { useLexicalComposerContext } from '@lexical/react/LexicalComposerContext'\nimport { $getSelection, COMMAND_PRIORITY_LOW, SELECT_ALL_COMMAND } from 'lexical'\nimport { useEffect } from 'react'\n\n/**\n * Allows to select inputs with `ctrl+a` or `cmd+a`.\n * Required because Lexical preventDefault the event.\n * see: https://github.com/payloadcms/payload/issues/6871\n */\nexport function SelectAllPlugin() {\n  const [editor] = useLexicalComposerContext()\n\n  useEffect(() => {\n    return editor.registerCommand(\n      SELECT_ALL_COMMAND,\n      () => {\n        const selection = $getSelection()\n        if (selection) {\n          return false\n        }\n        const activeElement = document.activeElement\n        if (activeElement instanceof HTMLInputElement) {\n          activeElement.select()\n        }\n        return true\n      },\n      COMMAND_PRIORITY_LOW,\n    )\n  }, [editor])\n\n  return null\n}\n"],"mappings":"AAAA,SAASA,yBAAyB,QAAQ;AAC1C,SAASC,aAAa,EAAEC,oBAAoB,EAAEC,kBAAkB,QAAQ;AACxE,SAASC,SAAS,QAAQ;AAE1B;;;;;AAKA,OAAO,SAASC,gBAAA;EACd,MAAM,CAACC,MAAA,CAAO,GAAGN,yBAAA;EAEjBI,SAAA,CAAU;IACR,OAAOE,MAAA,CAAOC,eAAe,CAC3BJ,kBAAA,EACA;MACE,MAAMK,SAAA,GAAYP,aAAA;MAClB,IAAIO,SAAA,EAAW;QACb,OAAO;MACT;MACA,MAAMC,aAAA,GAAgBC,QAAA,CAASD,aAAa;MAC5C,IAAIA,aAAA,YAAyBE,gBAAA,EAAkB;QAC7CF,aAAA,CAAcG,MAAM;MACtB;MACA,OAAO;IACT,GACAV,oBAAA;EAEJ,GAAG,CAACI,MAAA,CAAO;EAEX,OAAO;AACT","ignoreList":[]}